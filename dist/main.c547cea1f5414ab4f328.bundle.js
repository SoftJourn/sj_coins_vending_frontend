webpackJsonp([0,4],{"+GJa":function(t,e,n){"use strict";var o=n("3j3K"),i=n("5oXY"),r=n("2Lmt");n.d(e,"a",function(){return l});var a=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},s=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},c={ROLE_SUPER_ADMIN:new RegExp(".*"),ROLE_BILLING:new RegExp("/main/coins|main/transactions"),ROLE_INVENTORY:new RegExp("^/main$|/main/products|/main/machines|/main/categories|/main/purchases"),ROLE_USER_MANAGER:new RegExp("/main/users")},l=function(){function t(t,e){this.router=t,this.accountService=e}return t.prototype.canActivate=function(t,e){var n=this.accountService.getAccount();return n&&n.authorities?!!n.authorities.some(function(t){return!!c[t.authority]&&c[t.authority].test(e.url)}):(this.router.navigate(["/login"]),!1)},t}();l=a([n.i(o.Injectable)(),s("design:paramtypes",["function"==typeof(d=void 0!==i.b&&i.b)&&d||Object,"function"==typeof(u=void 0!==r.AccountService&&r.AccountService)&&u||Object])],l);var d,u},"/c+T":function(t,e,n){"use strict";var o=n("3j3K"),i=n("Fzro"),r=n("/eRw"),a=n("eSsP");n.d(e,"a",function(){return l});var s=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},c=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},l=function(){function t(t,e){this.http=t,this.tokenService=e}return t.prototype.get=function(t){var e=this;return this.tokenService.getAuthHeaders().flatMap(function(n){return e.http.get(t,{headers:n})})},t.prototype.post=function(t,e,n){var o=this;return this.tokenService.getAuthHeaders().flatMap(function(i){return null==n?o.http.post(t,e,{headers:i}):(i.append(a.a.CONTENT_TYPE,n),o.http.post(t,e,{headers:i}))})},t.prototype.put=function(t,e,n){var o=this;return this.tokenService.getAuthHeaders().flatMap(function(i){return i.append(a.a.CONTENT_TYPE,n),o.http.put(t,e,{headers:i})})},t.prototype.delete=function(t){var e=this;return this.tokenService.getAuthHeaders().flatMap(function(n){return e.http.delete(t,{headers:n})})},t}();l=s([n.i(o.Injectable)(),c("design:paramtypes",["function"==typeof(d=void 0!==i.d&&i.d)&&d||Object,"function"==typeof(u=void 0!==r.a&&r.a)&&u||Object])],l);var d,u},"/eRw":function(t,e,n){"use strict";var o=n("3j3K"),i=n("Fzro"),r=n("Gvdl"),a=(n.n(r),n("2Lmt")),s=n("bnFi"),c=n("NiNS"),l=n("PpH1");n.d(e,"a",function(){return p});var d=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},u=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},p=f=function(){function t(t){if(this.http=t,this.STORAGE_KEY="tokens",this.isTokensExistsInStorage()){var e=this.getTokensFromStorage();this.populateFields(e)}}return t.prototype.saveTokens=function(t){localStorage.setItem(this.STORAGE_KEY,t),this.populateFields(t)},t.prototype.populateFields=function(t){var e=JSON.parse(t);this.accessToken=e.access_token,this.refreshToken=e.refresh_token,this.tokenType=e.token_type,this.expirationTime=f.getExpirationTimeFromPayload(e.access_token),this.scope=e.scope,this.jti=e.jti,this._authorities=JSON.parse(atob(this.accessToken.split(".",2)[1])).authorities.map(function(t){return new l.a(t,!1)})},t.getExpirationTimeFromPayload=function(t){var e=JSON.parse(atob(t.split(".")[1]));return new Date(1e3*(e.exp-30))},t.prototype.getAccessToken=function(t){var e=this;return this.accessToken||t?!this.accessToken&&t?this.getTokens(t).map(function(t){return e.saveTokens(t),e.accessToken}):this.isAccessTokenExpired()?this.getTokensFromRefreshToken(this.refreshToken).map(function(t){return e.saveTokens(t),e.accessToken}):r.Observable.of(this.accessToken):r.Observable.throw(new s.a("token/access_token-missing","Access token is missing"))},t.prototype.getTokenType=function(){return this.tokenType?this.tokenType:null},t.prototype.isAccessTokenExpired=function(){var t=new Date;return!!(this.expirationTime&&t.getTime()>this.expirationTime.getTime())},t.prototype.getTokensFromStorage=function(){return localStorage.getItem(this.STORAGE_KEY)},t.prototype.isTokensExistsInStorage=function(){return!!localStorage.getItem(this.STORAGE_KEY)},t.prototype.getTokens=function(t){var e="grant_type=password",n="client_id=user_cred",o="scope=read write",i="username="+t.username,r="password="+t.password,a=encodeURI(e+"&"+n+"&"+o+"&"+i+"&"+r),s=c.a.AUTH_ENDPOINT;return this.http.post(s,a,{headers:f.getHeadersForTokenRequest()}).map(function(t){return t.text()})},t.prototype.getTokensFromRefreshToken=function(t){var e=c.a.AUTH_ENDPOINT,n="grant_type=refresh_token",o="refresh_token="+t,i=n+"&"+o;return this.http.post(e,i,{headers:f.getHeadersForTokenRequest()}).map(function(t){return t.text()})},t.getHeadersForTokenRequest=function(){var t=new i.b;return t.append(a.HttpHeaders.AUTHORIZATION,"Basic "+c.a.CLIENT_AUTH_HASH),t.append(a.HttpHeaders.CONTENT_TYPE,a.MediaType.APPLICATION_FORM_URLENCODED),t},t.prototype.deleteTokensFromStorage=function(){localStorage.removeItem(this.STORAGE_KEY),this.accessToken=null,this.refreshToken=null,this.tokenType=null,this.expirationTime=null,this.scope=null,this.jti=null},t.prototype.getAuthHeaders=function(){var t=this;return this.getAccessToken().map(function(e){var n=new i.b,o=t.getTokenType()+" "+e;return n.append(a.HttpHeaders.AUTHORIZATION,o),n})},t.prototype.revokeRefreshToken=function(){var t=this;if(!this.refreshToken)return r.Observable.throw(new s.a("token/refresh_token-missing","Refresh token is missing"));var e=c.a.AUTH_ENDPOINT+"/revoke",n="token_value="+this.refreshToken;return this.getAuthHeaders().flatMap(function(o){return o.append(a.HttpHeaders.CONTENT_TYPE,a.MediaType.APPLICATION_FORM_URLENCODED),t.http.post(e,n,{headers:o})})},Object.defineProperty(t.prototype,"authorities",{get:function(){return this._authorities},enumerable:!0,configurable:!0}),t}();p=f=d([n.i(o.Injectable)(),u("design:paramtypes",["function"==typeof(h=void 0!==i.d&&i.d)&&h||Object])],p);var f,h},0:function(t,e,n){t.exports=n("x35b")},"0clf":function(t,e){},"1b5j":function(t,e,n){"use strict";var o=n("3j3K"),i=n("/c+T"),r=n("NiNS");n.d(e,"a",function(){return c});var a=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},s=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},c=function(){function t(t){this.httpService=t}return t.prototype.getUrl=function(){return r.a.API_VENDING_ENDPOINT+"/purchases"},t.prototype.findAllByFilter=function(t,e,n){return this.httpService.post(this.getUrl()+"/filter?page="+(e-1)+"&size="+n,t).map(function(t){return t.json()})},t}();c=a([n.i(o.Injectable)(),s("design:paramtypes",["function"==typeof(l=void 0!==i.a&&i.a)&&l||Object])],c);var l},"1egz":function(t,e,n){e=t.exports=n("FZ+f")(),e.push([t.i,".login-container{width:90%;max-width:320px}md-input-container{width:100%}.login-button-container{text-align:right!important;margin-top:15px}.login-btn{color:#c2c4ce;background-color:#4c4c6a}.login-image-container{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.img-login{width:270px}",""]),t.exports=t.exports.toString()},"1waV":function(t,e,n){"use strict";var o=n("3j3K"),i=n("NVOs");n.d(e,"a",function(){return s});var r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},s=function(){function t(){}return t.prototype.ngOnInit=function(){this.field||(this.field="")},t.prototype.getKeys=function(){return Object.keys(this.data)},t.prototype.hasSubsClass=function(t){return"string"==typeof t?"":Object.keys(t).length>0?"dropdown-submenu":""},t.prototype.hasSubs=function(t){return"string"!=typeof t&&Object.keys(t).length>0},t.prototype.click=function(t,e){"string"==typeof this.data[e]&&this.control.patchValue(this.field+e),t.stopImmediatePropagation()},t}();r([n.i(o.Input)("data"),a("design:type",Object)],s.prototype,"data",void 0),r([n.i(o.Input)("field"),a("design:type",String)],s.prototype,"field",void 0),r([n.i(o.Input)("control"),a("design:type","function"==typeof(c=void 0!==i.FormControl&&i.FormControl)&&c||Object)],s.prototype,"control",void 0),s=r([n.i(o.Component)({selector:"[app-cascade-items]",template:n("ZSgR"),styles:[n("hjdY")]}),a("design:paramtypes",[])],s);var c},"2Lmt":function(t,e,n){"use strict";var o=(n("Xs1p"),n("tItp"),n("bnFi"),n("NiNS"),n("0clf"));n.n(o);n.o(o,"AccountService")&&n.d(e,"AccountService",function(){return o.AccountService}),n.o(o,"HttpHeaders")&&n.d(e,"HttpHeaders",function(){return o.HttpHeaders}),n.o(o,"MediaType")&&n.d(e,"MediaType",function(){return o.MediaType});var i=n("dtD4");n.d(e,"AccountService",function(){return i.a});var r=(n("/eRw"),n("/c+T"),n("vc0H"),n("KL0p"),n("oLNf"),n("oIcx"));n.d(e,"MediaType",function(){return r.a});var a=n("eSsP");n.d(e,"HttpHeaders",function(){return a.a})},"3kht":function(t,e,n){"use strict";var o=n("3j3K"),i=n("1b5j"),r=n("oLNf"),a=n("kzcK"),s=n("NVOs"),c=n("Z7iu"),l=n("57rY"),d=(n.n(l),n("CVUu"));n.d(e,"a",function(){return f});var u=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},p=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},f=function(){function t(t,e,n,o){this.purchaseService=t,this.machineService=e,this.parser=n,this.notificationService=o,this.page=new d.a,this.hideFilter=!0,this.hideStartDue=!0,this.pageSize=10,this.pageItems=5,this.pageDirectionLinks=!0,this.pageItemsSize="",this.contentDefaultSize="col-xs-12 col-sm-12 col-md-12 col-lg-6 col-xl-6",this.contentFullSize="col-xs-12 col-sm-12 col-md-12 col-lg-3 col-xl-3",this.formDefaultSize="col-xs-12 col-sm-12 col-md-12 col-lg-6 col-xl-6",this.formFullSize="col-xs-12 col-sm-12 col-md-12 col-lg-12 col-xl-12"}return t.prototype.ngOnInit=function(){var t=this;this.changeFormSize=this.formDefaultSize,this.changeContentSize=this.contentDefaultSize,this.buildForm(),this.buildPageSizeForm();var e=this.toPurchaseFilter(this.form);this.purchaseService.findAllByFilter(e,1,this.pageSize).subscribe(function(e){t.page=e,t.purchases=t.page.content,t.machineService.findAll().subscribe(function(e){t.machines=e},function(e){try{var n=e.json();if(!n.detail)throw n;t.notificationService.error("Error",n.detail)}catch(e){console.log(e),t.notificationService.error("Error","Error appeared, watch logs!")}})},function(e){try{var n=e.json();if(!n.detail)throw n;t.notificationService.error("Error",n.detail)}catch(e){console.log(e),t.notificationService.error("Error","Error appeared, watch logs!")}}),this.form.get("type").valueChanges.subscribe(function(e){"Start-Due"===e?(t.changeFormSize=t.formFullSize,t.changeContentSize=t.contentFullSize,t.inlineBlock="d-inline-block",t.showStartDue()):(t.changeFormSize=t.formDefaultSize,t.changeContentSize=t.contentDefaultSize,t.inlineBlock="",t.toHideStartDue(),t.form.get("start").patchValue(""),t.form.get("due").patchValue(""),t.minDate={year:1900,month:0,day:1},t.maxDate={year:2099,month:11,day:31})}),this.pageForm.get("pageSize").valueChanges.subscribe(function(e){t.pageSize=e,t.fetch(1,t.pageSize)})},t.prototype.buildForm=function(){this.form=new s.FormGroup({machine:new s.FormControl("-1"),type:new s.FormControl("Any"),start:new s.FormControl(""),due:new s.FormControl("")})},t.prototype.buildPageSizeForm=function(){this.pageForm=new s.FormGroup({pageSize:new s.FormControl("10")}),window.innerWidth<767&&(this.pageItems=3,this.pageItemsSize="sm",this.pageDirectionLinks=!1)},t.prototype.onResize=function(t){t.target.innerWidth>767&&(this.pageItems=5,this.pageItemsSize="",this.pageDirectionLinks=!0)},t.prototype.showFilter=function(){this.hideFilter=!this.hideFilter},t.prototype.showStartDue=function(){this.hideStartDue=!1},t.prototype.toHideStartDue=function(){this.hideStartDue=!0},t.prototype.onSubmit=function(){"Start-Due"===this.form.get("type").value&&(""==this.form.get("start").value||""==this.form.get("due").value)?this.notificationService.error("Error","Please set start and due dates"):this.fetch(1,this.pageSize)},t.prototype.onCancel=function(){this.form.get("machine").patchValue("-1"),this.form.get("type").patchValue("Any"),this.form.get("start").patchValue(""),this.form.get("due").patchValue(""),this.fetch(1,this.pageSize),this.showFilter()},t.prototype.toPurchaseFilter=function(t){var e=new c.a;return e.machineId=t.get("machine").value,e.type=t.get("type").value,e.timeZoneOffSet=(new Date).getTimezoneOffset(),e.start=this.parser.format(t.get("start").value),e.due=this.parser.format(t.get("due").value),e},t.prototype.changePage=function(t){"Start-Due"===this.form.get("type").value&&(""==this.form.get("start").value||""==this.form.get("due").value)?this.notificationService.error("Error","Please set start and due dates"):this.fetch(t,this.pageSize)},t.prototype.changeStart=function(t){this.minDate=t},t.prototype.changeDue=function(t){this.maxDate=t},t.prototype.fetch=function(t,e){var n=this,o=this.toPurchaseFilter(this.form);this.purchaseService.findAllByFilter(o,t,e).subscribe(function(t){n.page=t,n.purchases=n.page.content},function(t){try{var e=t.json();if(!e.detail)throw e;n.notificationService.error("Error",e.detail)}catch(t){console.log(t),n.notificationService.error("Error","Error appeared, watch logs!")}})},t}();u([n.i(o.HostListener)("window:resize",["$event"]),p("design:type",Function),p("design:paramtypes",[Object]),p("design:returntype",void 0)],f.prototype,"onResize",null),f=u([n.i(o.Component)({selector:"app-purchases",template:n("w+DQ"),styles:[n("YyRa")]}),p("design:paramtypes",["function"==typeof(h=void 0!==i.a&&i.a)&&h||Object,"function"==typeof(m=void 0!==r.a&&r.a)&&m||Object,"function"==typeof(g=void 0!==a.b&&a.b)&&g||Object,"function"==typeof(v=void 0!==l.NotificationsService&&l.NotificationsService)&&v||Object])],f);var h,m,g,v},"4dgc":function(t,e,n){"use strict";var o=n("3j3K"),i=n("Wv3i"),r=n("zNXL"),a=(n.n(r),n("NVOs"));n.d(e,"a",function(){return l});var s=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},c=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},l=function(){function t(t,e){this.productService=t,this.notificationService=e,this.searchClass="fa-search",this.cancelClass="fa-close",this.searchChangeClass=this.searchClass}return t.prototype.ngOnInit=function(){var t=this;this.buildForm(),this.productService.findAll().subscribe(function(e){return t.products=e},function(e){try{var n=e.json();if(!n.detail)throw n;t.notificationService.error("Error",n.detail)}catch(e){console.log(e),t.notificationService.error("Error","Error appeared, watch logs!")}}),this.form.get("name").valueChanges.debounceTime(300).distinctUntilChanged().subscribe(function(e){t.searchChangeClass=""!=e?t.cancelClass:t.searchClass,t.productService.findAllThatContainByName(e).subscribe(function(e){return t.products=e},function(e){t.notificationService.error("Error","You entered invalid search text!")})})},t.prototype.buildForm=function(){this.form=new a.FormGroup({name:new a.FormControl("")})},t.prototype.searchCancel=function(){this.form.get("name").patchValue(""),this.searchChangeClass=this.searchClass},t.prototype.onDelete=function(t){var e=this;this.productService.delete(t).subscribe(function(){},function(t){try{var n=t.json();if(1451==n.code)e.notificationService.error("Error","Can not delete, this product is being used!");else{if(!n.detail)throw n;e.notificationService.error("Error",n.detail)}}catch(t){console.log(t),e.notificationService.error("Error","Error appeared, watch logs!")}},function(){e.productService.findAll().subscribe(function(t){return e.products=t},function(t){try{var n=t.json();if(!n.detail)throw n;e.notificationService.error("Error",n.detail)}catch(t){console.log(t),e.notificationService.error("Error","Error appeared, watch logs!")}})})},t}();l=s([n.i(o.Component)({selector:"product-list",template:n("cCmg"),styles:[n("f5x9")]}),c("design:paramtypes",["function"==typeof(d=void 0!==i.a&&i.a)&&d||Object,"function"==typeof(u=void 0!==r.NotificationsService&&r.NotificationsService)&&u||Object])],l);var d,u},"4uC+":function(t,e,n){e=t.exports=n("FZ+f")(),e.push([t.i,".card-coins{width:260px;float:left;margin:5px}.validation-msg{margin:10px;color:red}div.validation-msg i{margin-right:10px}.disabled{cursor:not-allowed;opacity:.65}",""]),t.exports=t.exports.toString()},"50aa":function(t,e,n){"use strict";var o=n("3j3K"),i=n("vc0H"),r=n("zNXL"),a=(n.n(r),n("C3w0")),s=n("iW/o"),c=n("kFGv");n.d(e,"a",function(){return u});var l=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},d=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},u=function(){function t(t,e,n,o,i){this.categoryService=t,this.notificationService=e,this.modal=i,this.addMenu=new a.a,n.defaultViewContainer=o}return t.prototype.ngOnInit=function(){this.updateCategories()},t.prototype.updateCategories=function(){var t=this;this.categoryService.findAll().subscribe(function(e){return t.categories=e},function(e){try{var n=e.json();if(!n.detail)throw n;t.notificationService.error("Error",n.detail)}catch(e){console.log(e),t.notificationService.error("Error","Error appeared, watch logs!")}})},t.prototype.deleteCategory=function(t){var e=this;this.modal.confirm().size("sm").isBlocking(!0).showClose(!0).keyboard(27).title("Delete category").body("Do you really want to delete this category?").okBtn("Yes").okBtnClass("btn btn-success modal-footer-confirm-btn").cancelBtn("Cancel").cancelBtnClass("btn btn-secondary modal-footer-confirm-btn").open().then(function(n){n.result.then(function(){e.categoryService.delete(t).subscribe(function(t){},function(t){try{var n=t.json();if(1451==n.code)e.notificationService.error("Error","Can not delete, this category is being used!");else{if(!n.detail)throw n;e.notificationService.error("Error",n.detail)}}catch(t){console.log(t),e.notificationService.error("Error","Error appeared, watch logs!")}},function(){e.categoryService.findAll().subscribe(function(t){e.categories=t,e.notificationService.success("Delete","Category has been deleted successfully.")})})},function(){})})},t}();u=l([n.i(o.Component)({selector:"categories-list",template:n("D39d"),styles:[n("uIKg")]}),d("design:paramtypes",["function"==typeof(p=void 0!==i.a&&i.a)&&p||Object,"function"==typeof(f=void 0!==r.NotificationsService&&r.NotificationsService)&&f||Object,"function"==typeof(h=void 0!==s.g&&s.g)&&h||Object,"function"==typeof(m=void 0!==o.ViewContainerRef&&o.ViewContainerRef)&&m||Object,"function"==typeof(g=void 0!==c.b&&c.b)&&g||Object])],u);var p,f,h,m,g},"5VbL":function(t,e){t.exports='<div class="p-card-container">\n  <md-card class="p-card-bg">\n    <md-card-title-group>\n      <img md-card-sm-image src="{{imageUrl}}">\n      <md-card-title class="p-card-title">{{product?.name}}</md-card-title>\n      <md-card-subtitle>{{product?.price}} <i class="fa fa-bitcoin fa-lg"></i></md-card-subtitle>\n    </md-card-title-group>\n    <md-card-actions>\n      <div class="action-btn-container">\n        <button class="btn btn-success" (click)="onEditProduct()"><i class="fa fa-edit btn-icon"></i>Edit</button>\n        <button class="btn btn-danger" (click)="deleteProduct()"><i class="fa fa-trash btn-icon"></i>Delete</button>\n      </div>\n    </md-card-actions>\n  </md-card>\n</div>\n'},"5rqf":function(t,e,n){e=t.exports=n("FZ+f")(),e.push([t.i,"nav a.nav-link-disabled{cursor:default}nav a.nav-link-disabled:hover{color:hsla(0,0%,100%,.5)}",""]),t.exports=t.exports.toString()},"5xMp":function(t,e){t.exports='<router-outlet></router-outlet>\n<simple-notifications [options]="options"></simple-notifications>\n<template ngbModalContainer></template>\n'},"60LP":function(t,e,n){"use strict";var o=n("3j3K"),i=n("uA+w"),r=n("NiNS"),a=n("5oXY"),s=n("kFGv"),c=n("iW/o");n.d(e,"a",function(){return u});var l=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},d=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},u=function(){function t(t,e,n,i){this.router=t,this.modal=i,this.onDelete=new o.EventEmitter,e.defaultViewContainer=n}return t.prototype.ngOnInit=function(){null!=this.product.imageUrl?this.imageUrl=r.a.API_VENDING_ENDPOINT+"/"+this.product.imageUrl:this.imageUrl="/assets/images/default-product-350x350.jpg"},t.prototype.deleteProduct=function(){var t=this;this.modal.confirm().size("sm").isBlocking(!0).showClose(!0).keyboard(27).title("Delete product").body("Do you really want to delete this product?").okBtn("Yes").okBtnClass("btn btn-success modal-footer-confirm-btn").cancelBtn("Cancel").cancelBtnClass("btn btn-secondary modal-footer-confirm-btn").open().then(function(e){e.result.then(function(){t.onDelete.emit(t.product.id)},function(){})})},t.prototype.onEditProduct=function(){this.router.navigate(["/main/products",this.product.id,"edit"])},t}();l([n.i(o.Input)(),d("design:type","function"==typeof(p=void 0!==i.a&&i.a)&&p||Object)],u.prototype,"product",void 0),l([n.i(o.Output)(),d("design:type",Object)],u.prototype,"onDelete",void 0),u=l([n.i(o.Component)({selector:"product-item",template:n("5VbL"),styles:[n("sSzd")]}),d("design:paramtypes",["function"==typeof(f=void 0!==a.b&&a.b)&&f||Object,"function"==typeof(h=void 0!==c.g&&c.g)&&h||Object,"function"==typeof(m=void 0!==o.ViewContainerRef&&o.ViewContainerRef)&&m||Object,"function"==typeof(g=void 0!==s.b&&s.b)&&g||Object])],u);var p,f,h,m,g},"65FT":function(t,e,n){e=t.exports=n("FZ+f")(),e.push([t.i,"",""]),t.exports=t.exports.toString()},"6E2P":function(t,e){t.exports='<div>\n  <div align="center" class="form-group row">\n    <img [height]="height" [width]="width"\n         [src]="image.src" >\n    <!--[class.loaded]="imageUpload.imageLoaded">-->\n  </div>\n  <div class="form-group row">\n    <div class="input-group col-xs-12">\n      <span class="input-group-addon"><i class="fa fa-picture-o fa-lg"></i></span>\n      <input type="text" class="form-control" readonly [value]="image.name">\n      <label class="input-group-btn">\n        <span class="btn btn-info">\n          <i class="fa fa-search btn-icon"></i>Browse\n            <input hidden type="file" accept="image/jpeg,image/png,image/jpeg,image/apng,image/svg,image/bmp"\n                   (change)="acceptFile($event)">\n        </span>\n      </label>\n    </div>\n    <div #imgList></div>\n  </div>\n\n  <app-modal-img-cropper #modalImageCropper></app-modal-img-cropper>\n\n</div>\n'},"6xSB":function(t,e,n){"use strict";n.d(e,"a",function(){return o});var o=function(){function t(t,e,n,o){void 0===t&&(t=0),void 0===e&&(e=0),void 0===n&&(n=0),void 0===o&&(o=0),this.products=t,this.machines=e,this.categories=n,this.purchases=o}return t}()},"7ZxR":function(t,e,n){"use strict";var o=n("3j3K"),i=n("NVOs"),r=n("oLNf"),a=n("zNXL"),s=(n.n(a),n("q2CE")),c=n("5oXY");n.d(e,"a",function(){return u});var l=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},d=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},u=function(){function t(t,e,n){this.machineService=t,this.notificationService=e,this.router=n}return t.prototype.ngOnInit=function(){this.buildForm()},t.prototype.buildForm=function(){this.form=new i.FormGroup({name:new i.FormControl("",[i.Validators.required,i.Validators.pattern("^[a-zA-Z0-9Ѐ-ӿ]+[ a-zA-Z0-9Ѐ-ӿ]*[a-zA-Z0-9Ѐ-ӿ]$")]),url:new i.FormControl("",[i.Validators.required,i.Validators.pattern("https?:\\/\\/(www\\.)?([-a-zA-Z0-9@:%._+~#=]{2,256}\\.[a-z]{2,6}|[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3})\\b([-a-zA-Z0-9@:%_+.~#?&/=]*)")]),rowsCount:new i.FormControl("",[i.Validators.required,i.Validators.pattern("^[1-9]$|^[1][0-9]{0,1}$")]),rowsNumbering:new i.FormControl("ALPHABETICAL",i.Validators.required),columnsCount:new i.FormControl("",[i.Validators.required,i.Validators.pattern("^[1-9]$|^[1][0-9]{0,1}$")]),columnsNumbering:new i.FormControl("NUMERICAL",i.Validators.required),cellLimit:new i.FormControl("",[i.Validators.required,i.Validators.pattern("^[1-9]$|^[1][0-9]{0,1}$")]),isActive:new i.FormControl(!1)}),this.formStyles=new s.a(this.form)},t.prototype.submit=function(){var t=this;this.machineService.save(this.form.value).subscribe(function(){},function(e){try{var n=e.json();if(1062===n.code)t.notificationService.error("Error","Machine with such name exists!");else{if(!n.detail)throw n;t.notificationService.error("Error",n.detail)}}catch(e){console.log(e),t.notificationService.error("Error","Details are not provided")}},function(){t.notificationService.success("Create","Machine has been created successfully"),t.router.navigateByUrl("main/machines")})},t.prototype.resetForm=function(){this.form.reset({name:"",rowsCount:"",rowsNumbering:"ALPHABETICAL",columnsCount:"",columnsNumbering:"NUMERICAL"})},t.prototype.cancel=function(){this.router.navigate(["/main/machines"])},t}();u=l([n.i(o.Component)({selector:"add-machine",template:n("QiSi"),styles:[n("a2bi")]}),d("design:paramtypes",["function"==typeof(p=void 0!==r.a&&r.a)&&p||Object,"function"==typeof(f=void 0!==a.NotificationsService&&a.NotificationsService)&&f||Object,"function"==typeof(h=void 0!==c.b&&c.b)&&h||Object])],u);var p,f,h},"8v3K":function(t,e,n){"use strict";var o=n("9/9E");n.d(e,"a",function(){return o.a})},"9/9E":function(t,e,n){"use strict";var o=n("3j3K");n.d(e,"a",function(){return a});var i=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},r=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},a=function(){function t(){}return t.prototype.ngOnInit=function(){},t}();a=i([n.i(o.Component)({selector:"main-info",template:n("daVk"),styles:[n("tNDU")]}),r("design:paramtypes",[])],a)},"95Qa":function(t,e,n){"use strict";var o=n("3j3K"),i=n("a3dU"),r=(n.n(i),n("nOx2"));n.d(e,"a",function(){return l});var a=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),s=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},c=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},l=d=function(t){function e(e){var n=t.call(this)||this;n.notify=e,n.maxImageSize=262144,n.closable=!0,n.visibleChange=new o.EventEmitter,n.onCrop=new o.EventEmitter;var r=window.screen.availWidth;return n.cropperSettings=new i.CropperSettings,r<768?(n.cropperSettings.canvasWidth=220,n.cropperSettings.canvasHeight=200):(n.cropperSettings.canvasWidth=500,n.cropperSettings.canvasHeight=300),n.cropperSettings.width=200,n.cropperSettings.height=200,n.cropperSettings.croppedWidth=200,n.cropperSettings.croppedHeight=200,n.cropperSettings.minWidth=100,n.cropperSettings.minHeight=100,n.cropperSettings.allowedFilesRegex=/image\/(?:jpeg|png|jpg|apng|svg|bmp)/,n.cropperSettings.cropperDrawSettings.strokeColor="rgba(0,0,0,1)",n.cropperSettings.cropperDrawSettings.strokeWidth=2,n.cropperSettings.noFileInput=!0,n.data={},n}return a(e,t),e.prototype.animationDone=function(t){this.cropImage&&this.cropper&&this.cropper.setImage(this.cropImage)},e.prototype.setImageData=function(){var t=new Image;t.src=this.data.image,t.name=this.cropImage.name,this.hasValidSize(t)?this.onCrop.emit(t):this.notify.errorLargeImgSizeMsg(),this.close()},e.prototype.close=function(){this.visible=!1,this.visibleChange.emit(this.visible)},e.dataURItoBlob=function(t){var e=",";if(this.notValidDataURI(t)){throw Error("Data URI is not valid. Required format is data:[<data type>][;base64],<data>")}for(var n=atob(t.split(e)[1]),o=[],i=0;i<n.length;i++)o.push(n.charCodeAt(i));return new Blob([new Uint8Array(o)],{type:"image/jpeg"})},e.notValidDataURI=function(t){var e=/^data:(.*);base64,/i;return!t.match(e)},e.prototype.hasValidSize=function(t){return d.dataURItoBlob(t.src).size<=this.maxImageSize},e}(o.Type);s([n.i(o.ViewChild)("cropper"),c("design:type","function"==typeof(u=void 0!==i.ImageCropperComponent&&i.ImageCropperComponent)&&u||Object)],l.prototype,"cropper",void 0),s([n.i(o.Input)(),c("design:type",Object)],l.prototype,"maxImageSize",void 0),s([n.i(o.Input)(),c("design:type",Object)],l.prototype,"closable",void 0),s([n.i(o.Input)(),c("design:type",Boolean)],l.prototype,"visible",void 0),s([n.i(o.Output)(),c("design:type","function"==typeof(p=void 0!==o.EventEmitter&&o.EventEmitter)&&p||Object)],l.prototype,"visibleChange",void 0),s([n.i(o.Output)(),c("design:type","function"==typeof(f=void 0!==o.EventEmitter&&o.EventEmitter)&&f||Object)],l.prototype,"onCrop",void 0),s([n.i(o.Input)(),c("design:type",Object)],l.prototype,"cropImage",void 0),l=d=s([n.i(o.Component)({selector:"app-modal-img-cropper",template:n("BnT4"),styles:[n("wQzk")],animations:[n.i(o.trigger)("dialog",[n.i(o.transition)("void => *",[n.i(o.style)({transform:"scale3d(.3, .3, .3)"}),n.i(o.animate)(100)]),n.i(o.transition)("* => void",[n.i(o.animate)(100,n.i(o.style)({transform:"scale3d(.0, .0, .0)"}))])])]}),c("design:paramtypes",["function"==typeof(h=void 0!==r.a&&r.a)&&h||Object])],l);var d,u,p,f,h},"9eoA":function(t,e,n){"use strict";var o=n("3j3K"),i=n("NVOs"),r=n("oLNf"),a=n("zNXL"),s=(n.n(a),n("q2CE")),c=n("5oXY"),l=n("kFGv"),d=n("iW/o");n.d(e,"a",function(){return f});var u=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},p=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},f=function(){function t(t,e,n,o,i,r,a){this.machineService=t,this.notificationService=e,this.route=n,this.router=o,this.modal=i,r.defaultViewContainer=a}return t.prototype.ngOnInit=function(){var t=this;this.subscription=this.route.params.subscribe(function(e){t.mashinesIndex=+e.id,t.machineService.findOne(t.mashinesIndex).subscribe(function(e){t.machines=e,t.checkTypeColumRows(),t.buildForm()},function(e){try{var n=e.json();if(!n.detail)throw n;t.notificationService.error("Error",n.detail)}catch(e){console.log(e),t.notificationService.error("Error","Error appeared, watch logs!")}})})},t.prototype.buildForm=function(){this.form=new i.FormGroup({name:new i.FormControl(this.machines.name,[i.Validators.required,i.Validators.pattern("^[a-zA-Z0-9Ѐ-ӿ]+[ a-zA-Z0-9Ѐ-ӿ]*[a-zA-Z0-9Ѐ-ӿ]$")]),url:new i.FormControl(this.machines.url,[i.Validators.required,i.Validators.pattern("https?:\\/\\/(www\\.)?([-a-zA-Z0-9@:%._+~#=]{2,256}\\.[a-z]{2,6}|[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3})\\b([-a-zA-Z0-9@:%_+.~#?&/=]*)")]),rowsCount:new i.FormControl({value:this.machines.size.rows,disabled:!0},[i.Validators.required,i.Validators.pattern("^[1-9]$|^[1][0-9]{0,1}$")]),rowsNumbering:new i.FormControl({value:this.rowsNumbering,disabled:!0},i.Validators.required),columnsCount:new i.FormControl({value:this.machines.size.columns,disabled:!0},[i.Validators.required,i.Validators.pattern("^[1-9]$|^[1][0-9]{0,1}$")]),columnsNumbering:new i.FormControl({value:this.columnsNumbering,disabled:!0},i.Validators.required),cellLimit:new i.FormControl({value:this.machines.size.cellLimit,disabled:!0},[i.Validators.required,i.Validators.pattern("^[1-9]$|^[1][0-9]{0,1}$")]),isActive:new i.FormControl(this.machines.isActive)}),this.formStyles=new s.a(this.form)},t.prototype.submit=function(){var t=this;this.form.value.id=this.mashinesIndex,this.machineService.updateMachine(this.form.value).subscribe(function(){},function(e){return t.processError(e)},function(){t.router.navigate(["/main/machines"]),t.notificationService.success("Update","Machine has been updated successfully"),t.resetForm()})},t.prototype.resetForm=function(){this.form.reset({name:"",rowsCount:"",rowsNumbering:"ALPHABETICAL",columnsCount:"",columnsNumbering:"NUMERICAL",isActive:!1})},t.prototype.checkTypeColumRows=function(){for(var t=/\d{1}\d{1}/,e=/[A-Za-z]{1}[A-Za-z]{1}/,n=/[A-Z]{1}[0-9]{1}/,o=/[0-9]{1}[A-Z]{1}/,i=0;i<this.machines.rows.length;i++)for(var r=0;r<this.machines.rows[i].fields.length;r++)this.typeColsRows=this.machines.rows[0].fields[0].internalId;t.test(this.typeColsRows)?(this.rowsNumbering="NUMERICAL",this.columnsNumbering="NUMERICAL"):e.test(this.typeColsRows)?(this.rowsNumbering="ALPHABETICAL",this.columnsNumbering="ALPHABETICAL"):n.test(this.typeColsRows)?(this.rowsNumbering="ALPHABETICAL",this.columnsNumbering="NUMERICAL"):o.test(this.typeColsRows)&&(this.rowsNumbering="NUMERICAL",this.columnsNumbering="ALPHABETICAL")},t.prototype.cancel=function(){this.router.navigate(["/main/machines"])},t.prototype.resetMotorState=function(){var t=this;this.modal.confirm().size("lg").isBlocking(!0).showClose(!0).keyboard(27).title("Reset machine motors").body("You have to switch machine to service mode before pressing this button!").okBtn("OK").okBtnClass("btn btn-success modal-footer-confirm-btn").cancelBtn("Cancel").cancelBtnClass("btn btn-secondary modal-footer-confirm-btn").open().then(function(e){e.result.then(function(){t.form.value.id=t.mashinesIndex,t.machineService.resetMotorState(t.form.value).subscribe(function(){},function(e){return t.processError(e)},function(){t.notificationService.success("Update","Machine motors has been reset successfully")})},function(){})})},t.prototype.processError=function(t){try{var e=t.json();if(!e.detail)throw e;this.notificationService.error("Error",e.detail)}catch(t){console.log(t),this.notificationService.error("Error","Error appeared, watch logs!")}},t}();f=u([n.i(o.Component)({selector:"app-edit-machine",template:n("KiLK"),styles:[n("65FT")]}),p("design:paramtypes",["function"==typeof(h=void 0!==r.a&&r.a)&&h||Object,"function"==typeof(m=void 0!==a.NotificationsService&&a.NotificationsService)&&m||Object,"function"==typeof(g=void 0!==c.c&&c.c)&&g||Object,"function"==typeof(v=void 0!==c.b&&c.b)&&v||Object,"function"==typeof(b=void 0!==l.b&&l.b)&&b||Object,"function"==typeof(y=void 0!==d.g&&d.g)&&y||Object,"function"==typeof(w=void 0!==o.ViewContainerRef&&o.ViewContainerRef)&&w||Object])],f);var h,m,g,v,b,y,w},"9nY+":function(t,e,n){"use strict";var o=n("3j3K"),i=n("/c+T"),r=n("NiNS");n.d(e,"a",function(){return c});var a=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},s=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},c=function(){function t(t){this.httpService=t}return t.prototype.getUrl=function(){return r.a.API_COINS_ENDPOINT+"/transactions"},t.prototype.get=function(t){return this.httpService.post(this.getUrl(),t).map(function(t){return t.json()})},t.prototype.getFilterData=function(){return this.httpService.get(this.getUrl()+"/filter").map(function(t){return t.json()})},t.prototype.filterAutocompleteData=function(t){return this.httpService.get(this.getUrl()+"/filter/autocomplete?field="+t).map(function(t){return t.json()})},t.prototype.getById=function(t){return this.httpService.get(this.getUrl()+"/"+t).map(function(t){return t.json()})},t.prototype.getType=function(t){var e;switch(t){case"account":case"destination":case"comment":case"status":case"error":e="text";break;case"amount":e="number";break;case"created":case"time":e="date"}return e},t.prototype.getType2=function(t,e){for(var n=e.split("."),o=0;o<n.length;o++)t=t[n[o]];return t},t}();c=a([n.i(o.Injectable)(),s("design:paramtypes",["function"==typeof(l=void 0!==i.a&&i.a)&&l||Object])],c);var l},AG5X:function(t,e,n){e=t.exports=n("FZ+f")(),e.push([t.i,'.expand{display:block}.dropdown-submenu{position:relative}.dropdown-submenu>.dropdown-menu{top:0;left:100%;margin-top:-6px;margin-left:-1px;border-radius:4px}.dropdown-submenu:hover>.dropdown-menu{display:block}.dropdown-submenu>a:after{display:block;content:" ";float:right;width:0;height:0;border-color:transparent;border-style:solid;border-width:5px 0 5px 5px;border-left-color:#ccc;margin-top:5px;margin-right:-10px}.dropdown-submenu:hover>a:after{border-left-color:#ccc}.dropdown-submenu.pull-left{float:none}.dropdown-submenu.pull-left>.dropdown-menu{left:-100%;margin-left:10px;border-radius:4px}',""]),t.exports=t.exports.toString()},BQcI:function(t,e,n){e=t.exports=n("FZ+f")(),e.push([t.i,"textarea{height:91px}",""]),t.exports=t.exports.toString()},BnT4:function(t,e){t.exports='<div\n     (@dialog.done)="animationDone($event)"\n     [@dialog]="\'in\'"\n     *ngIf="visible" class="dialog">\n  <div class="modal-dialog" role="document">\n    <div class="modal-content">\n      <div class="modal-header">\n        <button type="button" class="close" data-dismiss="modal" aria-label="Close" *ngIf="closable"\n                (click)="close()">\n          <span aria-hidden="true">&times;</span>\n        </button>\n\n      </div>\n      <div class="modal-body">\n        <div class="center_images">\n          <img-cropper #cropper [image]="data" [settings]="cropperSettings"></img-cropper>\n          <br>\n        </div>\n      </div>\n      <div class="modal-footer">\n        <button type="button" class="btn btn-success" (click)="setImageData()">OK</button>\n        <button type="button" class="btn btn-secondary" data-dismiss="modal" (click)="close()">Cancel</button>\n      </div>\n    </div>\n  </div>\n</div>\n<div *ngIf="visible" class="overlay" (click)="close()"></div>\n'},C3w0:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var o=function(){function t(){this.iconState=!1,this.visible=!1}return t.prototype.spinPlusIcon=function(){this.iconState=!this.iconState},t.prototype.changeVisibility=function(t){this.visible=t},t.prototype.getMenuButtonName=function(){return this.visible?"Cancel":"Add"},t}()},C8z8:function(t,e){t.exports='<div class="container-fluid">\n  <div class="row">\n    <div class="col-lg-12">\n      <h1 class="page-header">Create product</h1>\n    </div>\n  </div>\n</div>\n<hr>\n<div class="container-fluid">\n  <div class="col-xs-12 col-lg-12">\n    <div class="card card-block" [ngClass]="getCardOutlineClass()">\n        <div class="row">\n          <!--left column-->\n          <app-product-form #productForm [product]="product" [categories]="categories" class="col-xl-6"></app-product-form>\n          <!--image uploader-->\n          <app-image-loader #imageLoader class="col-xl-6"></app-image-loader>\n        </div>\n        <div class="form-group row">\n          <div class="col-sm-12 form-buttons-container">\n            <button class="btn btn-success" [disabled]="!isValid()" type="submit" (click)="submit()">\n              Submit\n            </button>\n            <button class="btn btn-secondary" type="button" (click)="cancel()">\n              Cancel\n            </button>\n          </div>\n        </div>\n    </div>\n  </div>\n</div>\n'},CJC7:function(t,e,n){"use strict";var o=n("3j3K"),i=n("NVOs"),r=n("q2CE"),a=n("vc0H"),s=n("nOx2"),c=n("uA+w");n.d(e,"a",function(){return u});var l=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},d=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},u=p=function(){function t(t,e,n){this.categoryService=t,this.notify=e,this.fb=n,this._digitsPattern="\\d+",this._wordsWithNumbersPattern="^[a-zA-Z0-9Ѐ-ӿ]+[ a-zA-Z0-9Ѐ-ӿ,-]*[a-zA-Z0-9Ѐ-ӿ,-]+",this._maxPriceInputLength=5,this._maxNameInputLength=50}return t.prototype.ngOnInit=function(){this.product=new c.a,this.form=this.buildForm(),this.formStyles=new r.a(this.form)},t.prototype.buildForm=function(){return this.fb.group({name:["",[i.Validators.required,i.Validators.maxLength(this._maxNameInputLength),i.Validators.pattern(this._wordsWithNumbersPattern)]],price:["",[i.Validators.required,i.Validators.maxLength(this._maxPriceInputLength),i.Validators.pattern(this._digitsPattern)]],description:"",category:["",i.Validators.required]})},t.prototype.isValid=function(){return this.form.valid},t.prototype.reset=function(){var t=new c.a;this.categories.length>0&&(t.category=this.categories[0]),this.form.reset(t),this.notify.createSuccessfulMsg()},t.prototype.setProduct=function(t,e){this.product=t,this.categories=e;var n=this.categories.filter(function(e){return p.isEquals(e,t.category)});n&&(this.product.category=n[0])},t.isEquals=function(t,e){return t.name==e.name&&t.id==e.id},t}();l([n.i(o.Input)(),d("design:type",Array)],u.prototype,"categories",void 0),l([n.i(o.Input)(),d("design:type","function"==typeof(f=void 0!==c.a&&c.a)&&f||Object)],u.prototype,"product",void 0),u=p=l([n.i(o.Component)({selector:"app-product-form",template:n("evNi"),styles:[n("GcMU")]}),d("design:paramtypes",["function"==typeof(h=void 0!==a.a&&a.a)&&h||Object,"function"==typeof(m=void 0!==s.a&&s.a)&&m||Object,"function"==typeof(g=void 0!==i.FormBuilder&&i.FormBuilder)&&g||Object])],u);var p,f,h,m,g},CVUu:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var o=function(){function t(t,e,n,o,i,r,a,s,c){this.content=t,this.last=e,this.totalPages=n,this.totalElements=o,this.sort=i,this.first=r,this.numberOfElements=a,this.size=s,this.number=c}return t}()},D39d:function(t,e){t.exports='<div class="container-fluid">\n  <div class="col-xs-12 col-md-12 col-xl-12 row header-container">\n    <div class="col-xs-8 col-md-8 col-xl-8">\n      <h2>Categories</h2>\n    </div>\n    <div class="col-xs-4 col-md-4 col-xl-4 header-buttons-container">\n      <button class="btn btn-success" (mouseover)=\'addMenu.spinPlusIcon()\' (mouseout)=\'addMenu.spinPlusIcon()\'  (click)="addMenu.changeVisibility(!addMenu.visible)" >\n        <i class="fa fa-plus btn-icon rotate"\n           [ngClass]="{\'add-icon-active\':addMenu.iconState,\'add-icon-inactive\':!addMenu.iconState}"></i>{{addMenu.getMenuButtonName()}}\n      </button>\n    </div>\n  </div>\n</div>\n<hr>\n<div class="container-fluid">\n  <add-category [(isVisible)]=\'addMenu.visible\' (categoryChange)=\'updateCategories()\'></add-category>\n  <div class="row">\n    <div class="col-xl-4"></div>\n    <div class="col-xl-4">\n      <table class="table table-hover">\n        <thead class="thead-inverse">\n        <tr>\n          <th>#</th>\n          <th>Name</th>\n          <th>Action</th>\n        </tr>\n        </thead>\n        <tbody>\n        <tr *ngFor="let category of categories; let i = index">\n          <th scope="row">{{i+1}}</th>\n          <td>{{category?.name}}</td>\n          <td>\n            <button type="button" class="btn btn-danger" (click)="deleteCategory(category?.id)">\n              <i class="fa fa-trash btn-icon"></i>Delete\n            </button>\n          </td>\n        </tr>\n        </tbody>\n      </table>\n    </div>\n    <div class="col-xl-4"></div>\n  </div>\n</div>\n'},"Dc+T":function(t,e,n){e=t.exports=n("FZ+f")(),e.push([t.i,"@media (max-width:1025px){div.x-scroll{overflow-x:scroll;-webkit-overflow-scrolling:touch;-ms-overflow-style:-ms-autohiding-scrollbar}table{width:200%;max-width:inherit}}",""]),t.exports=t.exports.toString()},DjRz:function(t,e,n){"use strict";var o=n("3j3K");n.d(e,"a",function(){return r});var i=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},r=function(){function t(){}return t.prototype.transform=function(t,e){return t.charAt(0).toUpperCase()+t.substring(1,t.length)},t}();r=i([n.i(o.Pipe)({name:"upperFirstSymbol"})],r)},EmlD:function(t,e,n){e=t.exports=n("FZ+f")(),e.push([t.i,"textarea{height:91px}",""]),t.exports=t.exports.toString()},GNeU:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var o=function(){function t(){}return t.prototype.handleError=function(t){console.log(this.constructor.name),console.log(t)},t}()},GYDs:function(t,e,n){"use strict";var o=n("3j3K"),i=n("oLNf"),r=n("zNXL");n.n(r);n.d(e,"a",function(){return c});var a=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},s=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},c=function(){function t(t,e){this.machineService=t,this.notificationService=e}return t.prototype.ngOnInit=function(){this.getMachines()},t.prototype.getMachines=function(){var t=this;this.machineService.findAll().subscribe(function(e){return t.machines=e},function(e){try{var n=e.json();if(!n.detail)throw n;t.notificationService.error("Error",n.detail)}catch(e){console.log(e),t.notificationService.error("Error","Error appeared, watch logs!")}})},t.prototype.onDelete=function(t){var e=this;this.machineService.delete(t).subscribe(function(){return null},function(t){try{var n=t.json();1451==n.code?e.notificationService.error("Error","Can not delete, this machine is being used!"):n?e.notificationService.error("Error",n.detail):e.notificationService.error("Error","Error appeared during deletion")}catch(t){console.log(t),e.notificationService.error("Error","Error appeared, watch logs!")}},function(){e.notificationService.success("Success","Machine has been deleted successfully"),e.getMachines()})},t}();c=a([n.i(o.Component)({selector:"machines-list",template:n("mARt"),styles:[n("M4oq")]}),s("design:paramtypes",["function"==typeof(l=void 0!==i.a&&i.a)&&l||Object,"function"==typeof(d=void 0!==r.NotificationsService&&r.NotificationsService)&&d||Object])],c);var l,d},GZ0f:function(t,e,n){e=t.exports=n("FZ+f")(),e.push([t.i,"",""]),t.exports=t.exports.toString()},GcMU:function(t,e,n){e=t.exports=n("FZ+f")(),e.push([t.i,"",""]),t.exports=t.exports.toString()},"H3m/":function(t,e,n){"use strict";var o=n("3j3K"),i=n("iPwV"),r=n("/c+T"),a=n("NiNS"),s=n("Xs1p");n.d(e,"a",function(){return u});var c=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),l=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},d=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},u=function(t){function e(e){var n=t.call(this,e,s.a.prototype)||this;return n.httpService=e,n}return c(e,t),e.prototype.getUrl=function(){return a.a.AUTH_API+"/users"},e}(i.a);u=l([n.i(o.Injectable)(),d("design:paramtypes",["function"==typeof(p=void 0!==r.a&&r.a)&&p||Object])],u);var p},HgA2:function(t,e,n){"use strict";var o=n("3j3K"),i=n("vc0H"),r=n("Wv3i"),a=n("Gvdl"),s=(n.n(a),n("5oXY")),c=n("rv7q"),l=n("nOx2"),d=n("0rCA"),u=(n.n(d),n("CJC7")),p=n("v4X5"),f=n("NiNS");n.d(e,"a",function(){return g});var h=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},m=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},g=v=function(){function t(t,e,n,o,i,r){this.categoryService=t,this.productService=e,this.notify=n,this.route=o,this.router=i,this.imageUpload=r,this._categories=[],this._productUrl="/main/products",this.imageUpload.imageName=null}return t.prototype.ngOnInit=function(){var t=this;this.subscription=this.route.params.subscribe(function(e){t.productIndex=+e.id,t.formFinalSource(t.productIndex).subscribe(function(e){return t.setData(e)})})},t.prototype.reset=function(){this.router.navigate([this._productUrl])},t.prototype.submit=function(){var t=this;if(this.imageLoaderComponent.isEmpty())this.notify.errorNoImageMsg();else{var e=this.formComponent.form.value;this.productService.update(this.productIndex,e).subscribe(function(e){t.submitImages(e).subscribe(void 0,function(e){return t.errorHandle(e)},function(){return t.reset()})},function(e){return t.errorHandle(e)})}},t.prototype.submitImages=function(t){var e=this.updateCoverImage(t.id),n=this.loadImages(t.id),o=this.deleteImages();return e.merge(n).concat(o)},t.prototype.updateCoverImage=function(t){var e=this,n=this.imageLoaderComponent.getImageFormData("file");return n?this.productService.updateImage(t,n):this.productService.getImageBlob(this.imageLoaderComponent.image.src).flatMap(function(n){var o=new FormData;return o.append("file",n),e.productService.updateImage(t,o)})},t.prototype.loadImages=function(t){var e=this.imageLoaderComponent.getDescriptionImagesFormData("files");return e?this.productService.updateImages(t,e):a.Observable.empty()},t.prototype.deleteImages=function(){var t=this,e=this.imageLoaderComponent.getDeletedUrls(this._originImages),n=a.Observable.empty();return e.forEach(function(e){return n=n.merge(t.productService.deleteImage(e))}),n},t.prototype.isValid=function(){return this.formComponent&&this.imageLoaderComponent&&this.formComponent.isValid()&&!this.imageLoaderComponent.isEmpty()},t.prototype.formFinalSource=function(t){var e=this,n=this.productService.findOne(t).map(function(t){return e.product=t,e.fillImageComponent(t),{product:t,categories:e._categories}}),o=this.categoryService.findAll().map(function(t){return e._categories=t,{product:e.product,categories:t}});return n.merge(o)},t.prototype.fillImageComponent=function(t){var e=t.imageUrls,n=0;if(this._originCover=v.getAbsolutePath(t.imageUrl),e&&e.length)for(this._originImages=e.map(function(t){return v.getAbsolutePath(t)}),n;n<e.length;n++){var o=this.formatImage(e[n],n);0!=o.src.localeCompare(this._originCover)&&this.imageLoaderComponent.addImageItem(o)}this.imageLoaderComponent.addImageItem(this.formatImage(t.imageUrl,n))},t.prototype.formatImage=function(t,e){var n=new Image;return n.src=v.getAbsolutePath(t),n.name="image"+e,n},t.getAbsolutePath=function(t){return f.a.API_VENDING_ENDPOINT+"/"+t},t.prototype.setData=function(t){t.product&&t.categories&&t.categories.length&&this.formComponent.setProduct(t.product,t.categories)},t.prototype.errorHandle=function(t){try{var e=t.json();t.status==d.UNSUPPORTED_MEDIA_TYPE?this.notify.errorWrongFormatMsg():1062==e.code?this.notify.errorProductDuplicateMsg():this.notify.errorDetailedMsg(t.json())}catch(t){this.notify.logError(t)}},t}();h([n.i(o.ViewChild)("productForm"),m("design:type","function"==typeof(b=void 0!==u.a&&u.a)&&b||Object)],g.prototype,"formComponent",void 0),h([n.i(o.ViewChild)("imageLoader"),m("design:type","function"==typeof(y=void 0!==p.a&&p.a)&&y||Object)],g.prototype,"imageLoaderComponent",void 0),g=v=h([n.i(o.Component)({selector:"app-edit-product",template:n("xDi+"),styles:[n("EmlD")]}),m("design:paramtypes",["function"==typeof(w=void 0!==i.a&&i.a)&&w||Object,"function"==typeof(x=void 0!==r.a&&r.a)&&x||Object,"function"==typeof(S=void 0!==l.a&&l.a)&&S||Object,"function"==typeof(j=void 0!==s.c&&s.c)&&j||Object,"function"==typeof(C=void 0!==s.b&&s.b)&&C||Object,"function"==typeof(O=void 0!==c.a&&c.a)&&O||Object])],g);var v,b,y,w,x,S,j,C,O},IIkl:function(t,e,n){e=t.exports=n("FZ+f")(),e.push([t.i,"#new-admin{right:110px;height:37px;background:#373a3c;margin-right:10px;color:#fff}#superman-logo{z-index:500}#superman,#superman-logo{left:50%;top:50%;position:absolute;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}#superman{margin-top:94px;margin-left:18px}.relative{position:relative}@media (max-width:600px){td.collapsible,th.collapsible{display:none}}@media (max-width:380px){button.collapsible{width:45px}button>.button-text{display:none}}td,th{text-align:center}.table td img{padding:0}table{margin-bottom:250px}.pointer-cursor{cursor:pointer}.selected-row{box-shadow:0 8px 10px 8px #ccc;-webkit-transition:box-shadow .3s ease-in-out;transition:box-shadow .3s ease-in-out}.block-interval-sm{margin:5px 0}.hiddenRow{padding:0!important}.edit-row td>div{overflow:hidden;max-height:inherit}.edit-row td{padding:0!important;max-height:inherit}",""]),t.exports=t.exports.toString()},Id7F:function(t,e,n){e=t.exports=n("FZ+f")(),e.push([t.i,".mt-10{margin-top:10px}",""]),t.exports=t.exports.toString()},Iksp:function(t,e,n){"use strict";var o=n("Qbdm"),i=n("3j3K"),r=n("2Je8"),a=n("NVOs"),s=n("Fzro"),c=n("YWx4"),l=n("TWki"),d=n("WY2B"),u=n("VPw1"),p=n("8l3x"),f=n("iqV7"),h=n("9/9E"),m=n("zhGp"),g=n("PM07"),v=n("z/hI"),b=n("o9z0"),y=n("piHc"),w=n("Rvy0"),x=n("tZQS"),S=n("mblW"),j=n("oLNf"),C=n("KL0p"),O=n("vc0H"),I=n("/eRw"),k=n("dtD4"),R=n("/c+T"),F=n("qalz"),A=n("4a4p"),_=n("fBYW"),N=n("Wv3i"),P=n("zNXL"),E=(n.n(P),n("H3m/")),D=n("hnja"),T=n("HgA2"),V=n("rv7q"),L=n("3kht"),z=n("1b5j"),M=n("kzcK"),U=n("95Qa"),H=n("a3dU"),B=(n.n(H),n("sCtV")),G=n("iW/o"),K=n("kFGv"),q=n("Oa1l"),Z=n("9eoA"),Y=n("GNeU"),W=n("nOx2"),X=n("XghB"),J=n("v4X5"),Q=n("CJC7"),$=n("snDU"),tt=n("k4fj"),et=n("9nY+"),nt=n("DjRz"),ot=n("S2/c"),it=n("cQsJ"),rt=(n.n(it),n("fGrW")),at=n("3bZg"),st=n("juj4"),ct=n("1waV"),lt=n("l/BV"),dt=n("KN8t"),ut=n("fuBi"),pt=n("feIw");n.d(e,"a",function(){return ht});var ft=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},ht=function(){function t(){}return t}();ht=ft([n.i(i.NgModule)({declarations:[c.a,h.a,m.a,g.a,v.a,y.a,y.b,y.c,w.a,x.a,x.b,x.c,x.d,S.a,S.b,F.a,S.b,_.a,T.a,L.a,U.a,H.ImageCropperComponent,B.a,Z.a,X.a,J.a,Q.a,$.a,tt.a,nt.a,ot.a,rt.a,st.a,ct.a,lt.a,ut.a,pt.a],entryComponents:[X.a],imports:[o.a,dt.a,r.CommonModule,a.ReactiveFormsModule,l.a,d.a,u.a,p.a,A.a,f.a,s.a,b.a.forRoot(),P.SimpleNotificationsModule.forRoot(),a.FormsModule,M.a.forRoot(),G.a.forRoot(),K.a,it.RlTagInputModule,at.a.forRoot()],providers:[I.a,R.a,k.a,l.b,j.a,C.a,O.a,N.a,E.a,D.a,V.a,z.a,q.a,W.a,et.a,{provide:i.ErrorHandler,useClass:Y.a},{provide:r.LocationStrategy,useClass:r.HashLocationStrategy}],bootstrap:[c.a]})],ht)},Ina0:function(t,e){t.exports='<div [@menuState]="visibility" class="container">\n  <div class="row">\n    <div class="col-xl-3"></div>\n    <div class="col-xl-6">\n      <div class="card card-block" [ngClass]="formStyles.getCardOutlineClass()">\n        <form (ngSubmit)="submit()" [formGroup]="form">\n          <div class="row col-sm-12">\n            <div class="form-group row" [ngClass]="formStyles.getValidationClass(\'name\')">\n              <label for="category-name" class="col-sm-2 col-form-label">Category</label>\n              <div class="col-sm-10">\n                <input class="form-control" type="text" placeholder="Enter name"\n                       id="category-name" formControlName="name" [ngClass]="formStyles.getValidationIcon(\'name\')">\n                <label [hidden]="formStyles.isValidOrPristine(\'name\')" class="form-control-feedback pull-right">\n                  Enter valid name!\n                </label>\n              </div>\n            </div>\n            <div class="form-group row ">\n              <div class="col-sm-12 form-buttons-container">\n                <button class="btn btn-success" [disabled] = "!form.valid" type="submit">Submit</button>\n                <button class="btn btn-secondary" type="button" (click)="cancel()">Cancel</button>\n              </div>\n            </div>\n          </div>\n        </form>\n      </div>\n    </div>\n    <div class="col-xl-3"></div>\n  </div>\n</div>\n'},"Jx+s":function(t,e,n){"use strict";var o=n("3j3K"),i=n("oLNf"),r=n("NVOs"),a=n("5oXY"),s=n("Wv3i"),c=n("zNXL"),l=(n.n(c),n("NiNS")),d=n("Um43"),u=n("Qbdm"),p=n("fuBi"),f=n("feIw");n.d(e,"a",function(){return v});var h=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},m=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},g=this&&this.__param||function(t,e){return function(n,o){e(n,o,t)}},v=function(){function t(t,e,n,o,i,r){this.machineService=t,this.productService=e,this.route=n,this.notificationService=o,this.renderer=i,this.document=r,this.cellFormState="inactive",this.selectedField=null,this.selectedRowId=-1,this.changedFields=[]}return t.prototype.ngOnInit=function(){var t=this,e=parseInt(this.route.snapshot.params.id);this.machineService.findOne(e).subscribe(function(e){t.machine=e},function(e){try{var n=e.json();if(!n.detail)throw n;t.notificationService.error("Error",n.detail)}catch(e){console.log(e),t.notificationService.error("Error","Error appeared, watch logs!")}}),this.productService.findAll().subscribe(function(e){t.products=e},function(e){try{var n=e.json();if(!n.detail)throw n;t.notificationService.error("Error",n.detail)}catch(e){console.log(e),t.notificationService.error("Error","Error appeared, watch logs!")}}),this.form=new r.FormGroup({fieldInternalId:new r.FormControl("",r.Validators.required),product:new r.FormControl("",r.Validators.required),count:new r.FormControl("",[r.Validators.required,r.Validators.pattern("^[1-9]\\d*")])})},t.prototype.ngAfterContentInit=function(){},t.prototype.toggleState=function(t,e){this.selectedField=t,this.selectedRowId=e,this.cellFormState="active",this.form.get("fieldInternalId").patchValue(t.internalId,{onlySelf:!0});var n=this.form.get("product"),o=this.form.get("count");if(null!=t.product){var i=this.products.find(function(e){return e.id===t.product.id});n.patchValue(i),o.patchValue(t.count)}else n.patchValue(""),o.patchValue("");this.form.markAsPristine(),this.form.markAsUntouched(),this.form.updateValueAndValidity();var r=this.machineRows.find(function(t){return t.rowId==e}).getElement();if(r.ownerDocument.body.clientWidth<768){var a=this.machineCells.find(function(e){return e.cellId==t.internalId}).getElement();this.renderer.insertBefore(a.parentNode,this.cellFormElement.nativeElement,a.nextSibling)}else this.renderer.appendChild(r,this.cellFormElement.nativeElement)},t.prototype.applyCellFormState=function(t){return null!=this.selectedField?"active":"inactive"},t.prototype.applyCardState=function(t){return this.selectedField&&t===this.selectedField.internalId&&"active"===this.cellFormState?"active":"inactive"},t.prototype.submit=function(){var t=this.form.get("fieldInternalId").value,e=this.selectedField;e.internalId=t,e.product=this.form.get("product").value,e.count=this.form.get("count").value,this.changedFields.push(e),this.cancel()},t.prototype.clearCell=function(){var t=this.form.get("fieldInternalId").value,e=this.selectedField;e.internalId=t,e.product=null,e.count=0,this.form.patchValue({field:e.internalId,product:"",count:""});var n=this.changedFields.find(function(t){return t.id===e.id});n?n=e:this.changedFields.push(e)},t.prototype.cancel=function(){this.selectedRowId=-1,this.selectedField=null,this.cellFormState="inactive",this.form.reset()},t.prototype.createImageUrl=function(t){return l.a.API_VENDING_ENDPOINT+"/"+t.imageUrl},t.prototype.isClearCellDisabled=function(){return this.selectedField&&null==this.selectedField.product},t.prototype.isFormValid=function(){return!(!this.form.valid||this.form.pristine)},t.prototype.applyChanges=function(){var t=this;this.machineService.fillMachine(this.machine).subscribe(function(e){t.changedFields=[],t.machine=e,t.notificationService.success("Success","Machine filled successfully")},function(e){try{var n=e.json();if(!n.detail)throw n;t.notificationService.error("Error",n.detail)}catch(e){console.log(e),t.notificationService.error("Error","Error appeared, watch logs!")}finally{t.clearCell()}})},t.prototype.setClassIfProductAbsent=function(t){return t&&null==t.product?" card-icon-centered":""},t}();h([n.i(o.ViewChild)("cellForm"),m("design:type","function"==typeof(b=void 0!==o.ElementRef&&o.ElementRef)&&b||Object)],v.prototype,"cellFormElement",void 0),h([n.i(o.ViewChildren)(p.a),m("design:type","function"==typeof(y=void 0!==o.QueryList&&o.QueryList)&&y||Object)],v.prototype,"machineRows",void 0),h([n.i(o.ViewChildren)(f.a),m("design:type","function"==typeof(w=void 0!==o.QueryList&&o.QueryList)&&w||Object)],v.prototype,"machineCells",void 0),v=h([n.i(o.Component)({selector:"fill-machine",template:n("xUFU"),styles:[n("iapj")],animations:[n.i(d.f)("showHideForm",[n.i(d.g)("inactive",n.i(d.c)({display:"none",opacity:0})),n.i(d.g)("active",n.i(d.c)({display:"block",opacity:1})),n.i(d.h)("inactive => active",n.i(d.i)("300ms ease-in")),n.i(d.h)("active => inactive",n.i(d.i)("300ms ease-out"))]),n.i(d.f)("selectDeselectCard",[n.i(d.g)("inactive",n.i(d.c)({"-webkit-box-shadow":"0px 0px 0px 0px rgba(5,168,255,1)","-moz-box-shadow":"0px 0px 0px 0px rgba(5,168,255,1)","box-shadow":"0px 0px 0px 0px rgba(5,168,255,1)"})),n.i(d.g)("active",n.i(d.c)({"-webkit-box-shadow":"0px 0px 25px 5px rgba(5,168,255,1)","-moz-box-shadow":"0px 0px 25px 5px rgba(5,168,255,1)","box-shadow":"0px 0px 25px 5px rgba(5,168,255,1)"})),n.i(d.h)("inactive => active",n.i(d.i)("200ms ease-in")),n.i(d.h)("active => inactive",n.i(d.i)("200ms ease-out"))])]}),g(5,n.i(o.Inject)(u.g)),m("design:paramtypes",["function"==typeof(x=void 0!==i.a&&i.a)&&x||Object,"function"==typeof(S=void 0!==s.a&&s.a)&&S||Object,"function"==typeof(j=void 0!==a.c&&a.c)&&j||Object,"function"==typeof(C=void 0!==c.NotificationsService&&c.NotificationsService)&&C||Object,"function"==typeof(O=void 0!==o.Renderer2&&o.Renderer2)&&O||Object,Object])],v);var b,y,w,x,S,j,C,O},JyFh:function(t,e){t.exports='<button class="btn btn-secondary dropdown-toggle" type="button" data-toggle="dropdown"\n        aria-haspopup="true" aria-expanded="false" (click)="dropDownExpand()"></button>\n<div class="dropdown-menu" [ngClass]="expand">\n  <li app-cascade-items [data]="data" [control]="control"></li>\n</div>\n'},KL0p:function(t,e,n){"use strict";var o=n("3j3K"),i=n("NiNS"),r=n("/c+T");n.d(e,"a",function(){return c});var a=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},s=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},c=function(){function t(t){this.httpService=t}return t.prototype.getDashboard=function(){var t=i.a.API_VENDING_ENDPOINT+"/dashboard";return this.httpService.get(t).map(function(t){return t.json()})},t}();c=a([n.i(o.Injectable)(),s("design:paramtypes",["function"==typeof(l=void 0!==r.a&&r.a)&&l||Object])],c);var l},KiLK:function(t,e){t.exports='<div class="container-fluid">\n  <div class="row">\n    <div class="col-lg-12">\n      <h1 class="page-header">Edit machine</h1>\n    </div>\n  </div>\n</div>\n<hr>\n<div class="container-fluid" *ngIf="form">\n  <div class="col-xs-12 col-lg-12">\n    <div class="card card-block" [ngClass]="formStyles.getCardOutlineClass()">\n      <form (ngSubmit)="submit()" [formGroup]="form">\n        <div class="form-group row" [ngClass]="formStyles.getValidationClass(\'name\')">\n          <label for="vm-name" class="col-sm-2 col-form-label">Name</label>\n          <div class="col-sm-10">\n            <input type="text" class="form-control" id="vm-name" placeholder="Name"\n                   formControlName="name" [ngClass]="formStyles.getValidationIcon(\'name\')">\n            <label [hidden]="formStyles.isValidOrPristine(\'name\')" class="form-control-feedback pull-right">\n              Enter valid name!\n            </label>\n          </div>\n        </div>\n        <div class="form-group row" [ngClass]="formStyles.getValidationClass(\'url\')">\n          <label for="vm-url" class="col-sm-2 col-form-label">URL</label>\n          <div class="col-sm-10">\n            <input type="text" class="form-control" id="vm-url" placeholder="URL"\n                   formControlName="url" [ngClass]="formStyles.getValidationIcon(\'url\')">\n            <label [hidden]="formStyles.isValidOrPristine(\'url\')" class="form-control-feedback pull-right">\n              Enter valid url!\n            </label>\n          </div>\n        </div>\n        <div class="form-group row" [ngClass]="formStyles.getValidationClass(\'rowsCount\')">\n          <label for="vm-rows" class="col-sm-2 col-form-label">Rows count</label>\n          <div class="col-sm-10">\n            <input class="form-control" id="vm-rows"\n                   placeholder="1" formControlName="rowsCount"\n                   [ngClass]="formStyles.getValidationIcon(\'rowsCount\')">\n            <label [hidden]="formStyles.isValidOrPristine(\'rowsCount\')"\n                   class="form-control-feedback pull-right">\n              Enter valid number!\n            </label>\n          </div>\n        </div>\n        <div class="form-group row">\n          <label for="vm-rows-numbering" class="col-sm-2 col-form-label">Row numbering</label>\n          <div class="col-sm-10">\n            <select class="form-control" id="vm-rows-numbering"\n                    formControlName="rowsNumbering">\n              <option value="NUMERICAL">Numerical</option>\n              <option value="ALPHABETICAL">Alphabetical</option>\n            </select>\n          </div>\n        </div>\n        <div class="form-group row" [ngClass]="formStyles.getValidationClass(\'columnsCount\')">\n          <label for="vm-columns" class="col-sm-2 col-form-label">Columns count</label>\n          <div class="col-sm-10">\n            <input class="form-control" id="vm-columns"\n                   placeholder="1" formControlName="columnsCount"\n                   [ngClass]="formStyles.getValidationIcon(\'columnsCount\')">\n            <label [hidden]="formStyles.isValidOrPristine(\'columnsCount\')"\n                   class="form-control-feedback pull-right">\n              Enter valid number!\n            </label>\n          </div>\n        </div>\n        <div class="form-group row">\n          <label for="vm-columns-numbering" class="col-sm-2 col-form-label">Column numbering</label>\n          <div class="col-sm-10">\n            <select class="form-control" id="vm-columns-numbering" formControlName="columnsNumbering">\n              <option value="NUMERICAL">Numerical</option>\n              <option value="ALPHABETICAL">Alphabetical</option>\n            </select>\n          </div>\n        </div>\n        <div class="form-group row" [ngClass]="formStyles.getValidationClass(\'cellLimit\')">\n          <label for="vm-products-in-row" class="col-sm-2 col-form-label">Products in a cell limit</label>\n          <div class="col-sm-10">\n            <input class="form-control" id="vm-products-in-row"\n                   placeholder="1" formControlName="cellLimit"\n                   [ngClass]="formStyles.getValidationIcon(\'cellLimit\')">\n            <label [hidden]="formStyles.isValidOrPristine(\'cellLimit\')"\n                   class="form-control-feedback pull-right">\n              Enter valid number!\n            </label>\n          </div>\n        </div>\n        <div class="form-group row">\n          <label class="col-sm-2">Vending machine is active</label>\n          <div class="col-sm-10">\n            <div class="form-check">\n              <label class="form-check-label">\n                <input class="form-check-input" type="checkbox" formControlName="isActive"> Available for purchase\n              </label>\n            </div>\n          </div>\n        </div>\n        <div class="form-group row">\n          <div class="col-sm-12 form-buttons-container">\n            <button class="btn btn-warning" type="button" (click)="resetMotorState()">Reset motor state</button>\n            <button class="btn btn-success" type="submit" [disabled]="!form.valid">Submit</button>\n            <button class="btn btn-secondary" type="button" (click)="cancel()">Cancel</button>\n          </div>\n        </div>\n      </form>\n    </div>\n  </div>\n</div>\n'},Ldne:function(t,e,n){e=t.exports=n("FZ+f")(),e.push([t.i,".card-footer.card-footer-background{background-color:#f5f5f5}.card-title-parameters{height:55px}",""]),t.exports=t.exports.toString()},M4oq:function(t,e,n){e=t.exports=n("FZ+f")(),e.push([t.i,"",""]),t.exports=t.exports.toString()},MOVZ:function(t,e){function n(t){throw new Error("Cannot find module '"+t+"'.")}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="MOVZ"},"Mi/A":function(t,e,n){e=t.exports=n("FZ+f")(),e.push([t.i,".action-btn-container{text-align:center}.vm-card-container{margin-bottom:20px}.vm-card-bg{background-color:#f5f5f5}.vm-card-title{width:320px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;display:inline-block}@media (max-width:320px){.vm-card-title{width:135px}.action-btn-container button{margin-top:5px}}@media (min-width:321px) and (max-width:576px){.vm-card-title{width:200px}.action-btn-container button{margin-top:5px}}@media (min-width:321px) and (max-width:360px){.vm-card-title{width:180px}.action-btn-container button{margin-top:5px}}@media (min-width:577px) and (max-width:768px){.vm-card-title{width:380px}}@media (min-width:768px) and (max-width:992px){.vm-card-title{width:380px}}@media (min-width:993px) and (max-width:1200px){.vm-card-title{width:500px}}",""]),t.exports=t.exports.toString()},Mk5H:function(t,e,n){e=t.exports=n("FZ+f")(),e.push([t.i,".log-out{display:none}@media (max-width:768px){.log-out{display:block}}",""]),t.exports=t.exports.toString()},NiNS:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var o=function(){function t(){}return t}();o.API_VENDING_ENDPOINT="https://sjcoins-testing.softjourn.if.ua/vending/v1",o.API_COINS_ENDPOINT="https://sjcoins-testing.softjourn.if.ua/coins/v1",o.AUTH_SERVER="https://sjcoins-testing.softjourn.if.ua/auth",o.AUTH_ENDPOINT=o.AUTH_SERVER+"/oauth/token",o.AUTH_API=o.AUTH_SERVER+"/v1",o.CLIENT_AUTH_HASH="dXNlcl9jcmVkOnN1cGVyc2VjcmV0",o.NOTIFICATION_OPTIONS={position:["bottom","right"],timeOut:5e3,lastOnBottom:!0}},O4I5:function(t,e,n){"use strict";var o=n("zhGp");n.d(e,"a",function(){return o.a})},Oa1l:function(t,e,n){"use strict";var o=n("3j3K"),i=n("/c+T"),r=n("Gvdl"),a=(n.n(r),n("NiNS")),s=n("RztK"),c=n("oIcx");n.d(e,"a",function(){return u});var l=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},d=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},u=function(){function t(t){this.httpService=t}return t.prototype.getAccountsByType=function(t){var e=a.a.API_COINS_ENDPOINT+"/accounts/"+t.type;return this.httpService.get(e).map(function(t){return t.json()})},t.prototype.getTreasuryAmount=function(){var t=a.a.API_COINS_ENDPOINT+"/amount/treasury";return this.httpService.get(t).map(function(t){return t.json()})},t.prototype.getAmountByAccountType=function(t){var e=a.a.API_COINS_ENDPOINT+"/amount/"+t.type;return this.httpService.get(e).map(function(t){return t.json()})},t.prototype.getProductsPrice=function(){var t=a.a.API_VENDING_ENDPOINT+"/vending/price";return this.httpService.get(t).map(function(t){return t.json()})},t.prototype.replenishAccounts=function(t){var e=a.a.API_COINS_ENDPOINT+"/distribute",n=new s.a(t,"Replenish accounts");return this.httpService.post(e,n,c.a.APPLICATION_JSON).flatMap(function(t){return r.Observable.empty()})},t.prototype.withdrawToTreasury=function(t){var e=a.a.API_COINS_ENDPOINT+"/move/"+t.ldapId+"/treasury",n=new s.a(t.amount,"Withdraw "+t.amount+" coins to treasury from "+t.ldapId);return this.httpService.post(e,n,c.a.APPLICATION_JSON).map(function(t){return t.json()})},t.prototype.transferToAccount=function(t){var e=a.a.API_COINS_ENDPOINT+"/add/"+t.account.ldapId,n=new s.a(t.amount,"Filling account "+t.account.ldapId+" by "+t.amount+" coins");return this.httpService.post(e,n,c.a.APPLICATION_JSON).map(function(t){return t.json()})},t.prototype.transferToAccounts=function(t){var e=a.a.API_COINS_ENDPOINT+"/add/";return this.httpService.post(e,t).map(function(t){return t.json()})},t.prototype.checkProcessing=function(t){var e=this,n=a.a.API_COINS_ENDPOINT+"/check/"+t;return this.httpService.get(n).map(function(t){return t.json()}).expand(function(){return r.Observable.timer(5e3).concatMap(function(){return e.httpService.get(n).map(function(t){return t.json()})})})},t.prototype.getTemplate=function(){var t=a.a.API_COINS_ENDPOINT+"/template";return this.httpService.get(t).map(function(t){return new Blob([t.text()])})},t}();u=l([n.i(o.Injectable)(),d("design:paramtypes",["function"==typeof(p=void 0!==i.a&&i.a)&&p||Object])],u);var p},PM07:function(t,e,n){"use strict";var o=n("3j3K"),i=n("2Lmt"),r=n("5oXY");n.d(e,"a",function(){return c});var a=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},s=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},c=function(){function t(t,e){this.accountService=t,this.router=e}return t.prototype.ngOnInit=function(){this.account=this.accountService.getAccount()},t.prototype.logout=function(){this.accountService.logout(),this.router.navigate(["/login"])},t}();c=a([n.i(o.Component)({selector:"top-nav",template:n("htxC"),styles:[n("5rqf")]}),s("design:paramtypes",["function"==typeof(l=void 0!==i.AccountService&&i.AccountService)&&l||Object,"function"==typeof(d=void 0!==r.b&&r.b)&&d||Object])],c);var l,d},PpH1:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var o=function(){function t(t,e){if(this.superRole=e,t instanceof Object){var n=t;this.constructor.apply(this,[n.authority,n.superRole])}else this.authority=t,e||(this.superRole=!1)}return t.prototype.toString=function(){return this.authority},t.isValid=function(t){return!0},t}()},PqiB:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var o=function(){function t(t,e){this.conditions=t,this.pageable=e}return t}()},QiSi:function(t,e){t.exports='<div class="container-fluid">\n  <div class="row">\n    <div class="col-lg-12">\n      <h1 class="page-header">Create machine</h1>\n    </div>\n  </div>\n</div>\n<hr>\n<div class="container-fluid">\n  <div class="col-xs-12 col-lg-12">\n    <div class="card card-block" [ngClass]="formStyles.getCardOutlineClass()">\n      <form (ngSubmit)="submit()" [formGroup]="form">\n        <div class="form-group row" [ngClass]="formStyles.getValidationClass(\'name\')">\n          <label for="vm-name" class="col-sm-2 col-form-label">Name</label>\n          <div class="col-sm-10">\n            <input type="text" class="form-control" id="vm-name" placeholder="Name"\n                   formControlName="name" [ngClass]="formStyles.getValidationIcon(\'name\')">\n            <label [hidden]="formStyles.isValidOrPristine(\'name\')" class="form-control-feedback pull-right">\n              Enter valid name!\n            </label>\n          </div>\n        </div>\n        <div class="form-group row" [ngClass]="formStyles.getValidationClass(\'url\')">\n          <label for="vm-url" class="col-sm-2 col-form-label">URL</label>\n          <div class="col-sm-10">\n            <input type="text" class="form-control" id="vm-url" placeholder="URL"\n                   formControlName="url" [ngClass]="formStyles.getValidationIcon(\'url\')">\n            <label [hidden]="formStyles.isValidOrPristine(\'url\')" class="form-control-feedback pull-right">\n              Enter valid url!\n            </label>\n          </div>\n        </div>\n        <div class="form-group row" [ngClass]="formStyles.getValidationClass(\'rowsCount\')">\n          <label for="vm-rows" class="col-sm-2 col-form-label">Rows count</label>\n          <div class="col-sm-10">\n            <input class="form-control" id="vm-rows"\n                   placeholder="1" formControlName="rowsCount"\n                   [ngClass]="formStyles.getValidationIcon(\'rowsCount\')">\n            <label [hidden]="formStyles.isValidOrPristine(\'rowsCount\')" class="form-control-feedback pull-right">\n              Enter valid number!\n            </label>\n          </div>\n        </div>\n        <div class="form-group row">\n          <label for="vm-rows-numbering" class="col-sm-2 col-form-label">Row numbering</label>\n          <div class="col-sm-10">\n            <select class="form-control" id="vm-rows-numbering"\n                    formControlName="rowsNumbering">\n              <option value="NUMERICAL">Numerical</option>\n              <option value="ALPHABETICAL">Alphabetical</option>\n            </select>\n          </div>\n        </div>\n        <div class="form-group row" [ngClass]="formStyles.getValidationClass(\'columnsCount\')">\n          <label for="vm-columns" class="col-sm-2 col-form-label">Columns count</label>\n          <div class="col-sm-10">\n            <input class="form-control" id="vm-columns"\n                   placeholder="1" formControlName="columnsCount"\n                   [ngClass]="formStyles.getValidationIcon(\'columnsCount\')">\n            <label [hidden]="formStyles.isValidOrPristine(\'columnsCount\')" class="form-control-feedback pull-right">\n              Enter valid number!\n            </label>\n          </div>\n        </div>\n        <div class="form-group row">\n          <label for="vm-columns-numbering" class="col-sm-2 col-form-label">Column numbering</label>\n          <div class="col-sm-10">\n            <select class="form-control" id="vm-columns-numbering" formControlName="columnsNumbering">\n              <option value="NUMERICAL">Numerical</option>\n              <option value="ALPHABETICAL">Alphabetical</option>\n            </select>\n          </div>\n        </div>\n        <div class="form-group row" [ngClass]="formStyles.getValidationClass(\'cellLimit\')">\n          <label for="vm-products-in-row" class="col-sm-2 col-form-label">Products in a cell limit</label>\n          <div class="col-sm-10">\n            <input class="form-control" id="vm-products-in-row"\n                   placeholder="1" formControlName="cellLimit"\n                   [ngClass]="formStyles.getValidationIcon(\'cellLimit\')">\n            <label [hidden]="formStyles.isValidOrPristine(\'cellLimit\')"\n                   class="form-control-feedback pull-right">\n              Enter valid number!\n            </label>\n          </div>\n        </div>\n        <div class="form-group row">\n          <label class="col-sm-2">Vending machine is active</label>\n          <div class="col-sm-10">\n            <div class="form-check">\n              <label class="form-check-label">\n                <input class="form-check-input" type="checkbox" formControlName="isActive"> Available for purchase\n              </label>\n            </div>\n          </div>\n        </div>\n        <div class="form-group row">\n          <div class="col-sm-12 form-buttons-container">\n            <button class="btn btn-success" type="submit" [disabled]="!form.valid">Submit</button>\n            <button class="btn btn-secondary" type="button" (click)="cancel()">Cancel</button>\n          </div>\n        </div>\n      </form>\n    </div>\n  </div>\n</div>\n'},QjeQ:function(t,e){t.exports='<div class="container-fluid">\n  <div class="col-sm-12 row header-container">\n    <div class="col-xs-8 col-md-8 col-xl-8">\n      <h1>Users</h1>\n    </div>\n\n    <div class="col-xs-4 col-md-4 col-xl-4 header-buttons-container">\n      <button class="btn btn-success" (mouseover)=\'addMenu.spinPlusIcon()\' (mouseout)=\'addMenu.spinPlusIcon()\'\n              (click)="open(content)">\n        <i #plus class="fa fa-plus btn-icon rotate"\n           [ngClass]="{\'add-icon-active\':addMenu.iconState,\'add-icon-inactive\':!addMenu.iconState}"></i>{{addMenu.getMenuButtonName()}}\n      </button>\n    </div>\n  </div>\n</div>\n<hr>\n\n<!--Add user modal-->\n<ng-template #content let-c="close" let-d="dismiss">\n  <div class="modal-header">\n    <button type="button" class="close" aria-label="Close" (click)="d(\'Cross click\')">\n      <span aria-hidden="true">&times;</span>\n    </button>\n    <h4 *ngIf="!edit" class="modal-title">Add new user</h4>\n    <h4 *ngIf="edit" class="modal-title">Edit user</h4>\n  </div>\n  <div class="modal-body text-xs-center">\n    <form class="d-inline-block text-xs-left">\n      <label for="new-admin">LDAP user\n        <select *ngIf="!edit" id="new-admin" [(ngModel)]="selectedModule" [ngModelOptions]="{standalone: true}">\n          <option *ngFor="let user of ldapUsers" [ngValue]="user">{{user.ldapId}}</option>\n        </select>\n        <b *ngIf="edit">{{selectedModule.ldapId}}</b>\n      </label>\n      <br>\n      <ng-container *ngIf="selectedModule">\n        <div class="checkbox">\n          <label >\n            <input  type="checkbox" [ngModel]="selectedModule.hasRole(\'ROLE_INVENTORY\')"\n                    (ngModelChange)="selectedModule.setRole(\'ROLE_INVENTORY\',$event)"\n                    [ngModelOptions]="{standalone: true}"/> Inventory Manager\n          </label>\n        </div>\n        <div class="checkbox">\n          <label>\n            <input  type="checkbox" [ngModel]="selectedModule.hasRole(\'ROLE_BILLING\')"\n                    (ngModelChange)="selectedModule.setRole(\'ROLE_BILLING\',$event)"\n                    [ngModelOptions]="{standalone: true}"/> Billing Manger\n          </label>\n        </div>\n        <div class="checkbox">\n          <label>\n            <input  type="checkbox" [ngModel]="selectedModule.hasRole(\'ROLE_USER_MANAGER\')"\n                    (ngModelChange)="selectedModule.setRole(\'ROLE_USER_MANAGER\',$event)"\n                    [ngModelOptions]="{standalone: true}"/> User Manager\n          </label>\n        </div>\n      </ng-container>\n    </form>\n  </div>\n  <div class="modal-footer">\n    <button *ngIf="!edit" class="btn btn-success" type="submit" (click)="addAdminUserSubmit() ">Submit</button>\n    <button *ngIf="edit" class="btn btn-success" type="submit" (click)="editAdminUserSubmit() ">Submit</button>\n    <button type="button" class="btn btn-secondary" (click)="c(\'Close click\')">Close</button>\n  </div>\n</ng-template>\n\n<div class="container-fluid">\n\n\n  <div class="row" [ngClass]="{\'blur-background\': addMenu.visible}">\n\n    <table class="table table-hover ">\n      <thead class="thead-inverse">\n      <tr>\n        <th class="collapsible">№</th>\n        <th class="collapsible">LDAP</th>\n        <th>Full name</th>\n        <th>Role</th>\n        <th>Action</th>\n      </tr>\n      </thead>\n      <tbody>\n\n\n      <ng-container *ngFor="let user of adminUsers; let i = index;">\n        <tr >\n          <td class="collapsible" scope="row">{{i+1}}</td>\n          <td class="collapsible">{{user.ldapId}}</td>\n          <td>{{user.fullName}}</td>\n          <td>{{user.getRole()}}</td>\n          <td class="relative">\n            <div *ngIf="!user.isSuperUser()">\n              <button class="btn btn-secondary" (click)="editUser(user,content)">\n                <i class="fa fa-pencil-square"></i>\n              </button>\n              <button type="button" class="btn btn-danger collapsible block-interval-sm"\n                      (click)="deleteUser(user.ldapId)">\n                <i class="fa fa-trash"></i>\n              </button>\n            </div>\n            <div *ngIf="user.isSuperUser()">\n              <img id="superman" [@heroState]="superman.state" (dblclick)="superman.fly(\'inactive\')"\n                   src="../../assets/images/superman.png"/>\n              <img id="superman-logo" (dblclick)="superman.fly(\'active\')"\n                   src="../../assets/images/superman-logo.png"/>\n            </div>\n          </td>\n        </tr>\n      </ng-container>\n\n      </tbody>\n    </table>\n\n  </div>\n</div>\n\n'},Rpt0:function(t,e){t.exports='<div class="container-fluid">\n  <div class="row">\n    <div class="col-lg-12">\n      <h1 class="page-header">Dashboard</h1>\n    </div>\n  </div>\n</div>\n<hr>\n<div class="row">\n  <div class="col-xl-3 col-lg-6">\n    <div class="card card-primary card-inverse">\n      <div class="card-header card-primary">\n        <div class="row">\n          <div class="col-xs-3">\n            <i class="fa fa-shopping-basket fa-5x"></i>\n          </div>\n          <div class="col-xs-9 text-xs-right">\n            <div class="card-title-parameters"><h4>Products</h4></div>\n            <div class="huge"><h5>{{dashboard.products}}</h5></div>\n          </div>\n        </div>\n      </div>\n      <div class="card-footer card-footer-background">\n        <a [routerLink]="[\'/main/products\']">\n          <span class="pull-xs-left">View Details</span>\n          <span class="pull-xs-right"><i class="fa fa-arrow-circle-right"></i></span>\n          <div class="clearfix"></div>\n        </a>\n      </div>\n    </div>\n  </div>\n  <div class="col-xl-3 col-lg-6">\n    <div class="card card-success card-inverse">\n      <div class="card-header card-success">\n        <div class="row">\n          <div class="col-xs-3">\n            <i class="fa fa-cogs fa-5x"></i>\n          </div>\n          <div class="col-xs-9 text-xs-right">\n            <div class="card-title-parameters"><h4>Vending machines</h4></div>\n            <div class="huge"><h5>{{dashboard.machines}}</h5></div>\n          </div>\n        </div>\n      </div>\n      <div class="card-footer card-footer-background">\n        <a [routerLink]="[\'/main/machines\']">\n          <span class="pull-xs-left">View Details</span>\n          <span class="pull-xs-right"><i class="fa fa-arrow-circle-right"></i></span>\n          <div class="clearfix"></div>\n        </a>\n      </div>\n    </div>\n  </div>\n  <div class="col-xl-3 col-lg-6">\n    <div class="card card-info card-inverse">\n      <div class="card-header card-info">\n        <div class="row">\n          <div class="col-xs-3">\n            <i class="fa fa-tags fa-5x"></i>\n          </div>\n          <div class="col-xs-9 text-xs-right">\n            <div class="card-title-parameters"><h4>Categories</h4></div>\n            <div class="huge"><h5>{{dashboard.categories}}</h5></div>\n          </div>\n        </div>\n      </div>\n      <div class="card-footer card-footer-background">\n        <a [routerLink]="[\'/main/categories\']">\n          <span class="pull-xs-left">View Details</span>\n          <span class="pull-xs-right"><i class="fa fa-arrow-circle-right"></i></span>\n          <div class="clearfix"></div>\n        </a>\n      </div>\n    </div>\n  </div>\n  <div class="col-xl-3 col-lg-6">\n    <div class="card card-warning card-inverse">\n      <div class="card-header card-warning">\n        <div class="row">\n          <div class="col-xs-3">\n            <i class="fa fa-money fa-5x"></i>\n          </div>\n          <div class="col-xs-9 text-xs-right">\n            <div class="card-title-parameters"><h4>Purchases</h4></div>\n            <div class="huge"><h5>{{dashboard.purchases}}</h5></div>\n          </div>\n        </div>\n      </div>\n      <div class="card-footer card-footer-background">\n        <a [routerLink]="[\'/main/purchases\']">\n          <span class="pull-xs-left">View Details</span>\n          <span class="pull-xs-right"><i class="fa fa-arrow-circle-right"></i></span>\n          <div class="clearfix"></div>\n        </a>\n      </div>\n    </div>\n  </div>\n</div>\n'},Rvy0:function(t,e,n){"use strict";var o=n("3j3K"),i=n("6xSB"),r=n("KL0p"),a=n("zNXL");n.n(a);n.d(e,"a",function(){return l});var s=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},c=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},l=function(){function t(t,e){this.dashboardService=t,this.notificationService=e,this.dashboard=new i.a}return t.prototype.ngOnInit=function(){var t=this;this.dashboardService.getDashboard().subscribe(function(e){t.dashboard=e},function(e){try{var n=e.json();if(!n.detail)throw n;t.notificationService.error("Error",n.detail)}catch(e){console.log(e),t.notificationService.error("Error","Error appeared, watch logs!")}})},t}();l=s([n.i(o.Component)({selector:"app-dashboard",template:n("Rpt0"),styles:[n("Ldne")]}),c("design:paramtypes",["function"==typeof(d=void 0!==r.a&&r.a)&&d||Object,"function"==typeof(u=void 0!==a.NotificationsService&&a.NotificationsService)&&u||Object])],l);var d,u},RztK:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var o=function(){function t(t,e){this.amount=t,this.comment=e}return t}()},"S2/c":function(t,e,n){"use strict";var o=n("3j3K"),i=n("NVOs"),r=n("9nY+");n.d(e,"a",function(){return c});var a=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},s=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},c=function(){function t(t){this.transactionService=t}return t.prototype.ngOnInit=function(){var t=this;this.filter.get("field").valueChanges.distinctUntilChanged().subscribe(function(e){t.filter.get("value").patchValue(""),t.filter.get("comparison").patchValue("eq"),"text"==t.transactionService.getType2(t.data,e)&&t.transactionService.filterAutocompleteData(e).subscribe(function(e){t.autocomplete=e})})},t.prototype.addWhileInclude=function(t){var e;e=""==this.filter.get("value").value?new Set:new Set(this.filter.get("value").value),e.add(t),this.filter.get("value").patchValue(Array.from(e))},t.prototype.removeWhileInclude=function(t){var e=new Set(this.filter.get("value").value);e.delete(t),0==e.size?this.filter.get("value").patchValue(null):this.filter.get("value").patchValue(Array.from(e))},t.prototype.openDatepicker=function(){var t=this;this.isOpen=!0,setTimeout(function(){t.isOpen=!1},1e3)},t.prototype.dateTimeSelected=function(t){this.datetimeValue=t.value,this.filter.get("value").patchValue(t.value)},t}();a([n.i(o.Input)("data"),s("design:type",Object)],c.prototype,"data",void 0),a([n.i(o.Input)("formGroup"),s("design:type","function"==typeof(l=void 0!==i.FormGroup&&i.FormGroup)&&l||Object)],c.prototype,"filter",void 0),c=a([n.i(o.Component)({selector:"app-transaction-filter-item",template:n("eKC9"),styles:[n("raM8")]}),s("design:paramtypes",["function"==typeof(d=void 0!==r.a&&r.a)&&d||Object])],c);var l,d},SJiW:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var o=function(){function t(t){this.sort=t}return t}()},TWki:function(t,e,n){"use strict";var o=n("5oXY"),i=n("+GJa"),r=n("O4I5"),a=n("8v3K"),s=n("4dgc"),c=n("alL1"),l=n("Rvy0"),d=n("tZQS"),u=n("mblW"),p=n("HgA2"),f=n("3kht"),h=n("qalz"),m=n("sCtV"),g=n("9eoA"),v=n("k4fj"),b=n("fGrW");n.d(e,"b",function(){return w}),n.d(e,"a",function(){return x});var y=[{path:"",pathMatch:"full",redirectTo:"main"},{path:"main",component:a.a,children:[{path:"",component:l.a,canActivate:[i.a]},{path:"products",component:s.a,canActivate:[i.a]},{path:"products/add",component:c.a,canActivate:[i.a]},{path:"machines",component:d.a,canActivate:[i.a]},{path:"machines/add",component:d.c,canActivate:[i.a]},{path:"machines/fill/:id",component:d.d,canActivate:[i.a]},{path:"coins",component:m.a,canActivate:[i.a]},{path:"transactions",component:v.a,canActivate:[i.a]},{path:"transactions/:id",component:b.a,canActivate:[i.a]},{path:"categories",component:u.a,canActivate:[i.a]},{path:"categories/add",component:u.b,canActivate:[i.a]},{path:"users",component:h.a,canActivate:[i.a]},{path:"products/:id/edit",component:p.a,canActivate:[i.a]},{path:"purchases",component:f.a,canActivate:[i.a]},{path:"machines/:id/edit",component:g.a,canActivate:[i.a]}]},{path:"login",component:r.a}],w=[i.a],x=o.a.forRoot(y)},Vw8t:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var o=function(){function t(t,e){void 0===t&&(t=""),this.name=t,this.id=e}return t}()},Wv3i:function(t,e,n){"use strict";var o=n("3j3K"),i=n("/c+T"),r=n("Gvdl"),a=(n.n(r),n("NiNS")),s=n("iPwV"),c=n("Fzro");n.d(e,"a",function(){return p});var l=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),d=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},u=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},p=function(t){function e(e,n){var o=t.call(this,n)||this;return o.http=e,o.httpService=n,o}return l(e,t),e.prototype.getUrl=function(){return a.a.API_VENDING_ENDPOINT+"/products"},e.prototype.findAllThatContainByName=function(t){return this.httpService.get(this.getUrl()+"/search?name="+t).map(function(t){return t.json()})},e.prototype.updateImage=function(t,e){var n=this.getUrl()+"/"+t+"/image";return this.httpService.post(n,e).flatMap(function(t){return r.Observable.empty()})},e.prototype.updateImages=function(t,e){var n=this.getUrl()+"/"+t+"/images";return this.httpService.post(n,e).flatMap(function(t){return r.Observable.empty()})},e.prototype.deleteImage=function(t){return this.httpService.delete(t).flatMap(function(t){return r.Observable.empty()})},e.prototype.getImageBlob=function(t){var e=new c.b;return e.append("Content-Type","image/jpg"),this.http.get(t,{headers:e,responseType:c.c.Blob}).map(function(t){return t.blob()})},e}(s.a);p=d([n.i(o.Injectable)(),u("design:paramtypes",["function"==typeof(f=void 0!==c.d&&c.d)&&f||Object,"function"==typeof(h=void 0!==i.a&&i.a)&&h||Object])],p);var f,h},XghB:function(t,e,n){"use strict";var o=n("3j3K");n.d(e,"a",function(){return a});var i=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},r=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},a=function(){function t(){this.onDelete=new o.EventEmitter,this.onClick=new o.EventEmitter}return t.prototype.ngOnInit=function(){},t.prototype.destroy=function(){this.onDelete.emit()},t.prototype.select=function(){this.onClick.emit()},t}();i([n.i(o.Input)(),r("design:type",Object)],a.prototype,"image",void 0),i([n.i(o.Output)(),r("design:type",Object)],a.prototype,"onDelete",void 0),i([n.i(o.Output)(),r("design:type",Object)],a.prototype,"onClick",void 0),a=i([n.i(o.Component)({selector:"app-upload-item",template:n("pmDf"),styles:[n("Id7F")]}),r("design:paramtypes",[])],a)},Xs1p:function(t,e,n){"use strict";var o=n("PpH1");n.d(e,"a",function(){return i});var i=function(){function t(e,n,i,r){if(this.fullName=n,this.email=i,this.authorities=r,e instanceof Object){var a=e;if(!t.isValidInstance(a))return null;this.ldapId=a.ldapId,this.fullName=a.fullName,this.email=a.email,this.authorities=a.authorities.map(function(t){return new o.a(t)})}else this.ldapId=e}return t.isValidInstance=function(t){return!!(t.hasOwnProperty("ldapId")&&t.hasOwnProperty("fullName")&&t.hasOwnProperty("email")&&t.hasOwnProperty("authorities"))&&("string"==typeof t.ldapId&&"string"==typeof t.fullName&&"string"==typeof t.email&&"object"==typeof t.authorities&&t.authorities instanceof Array&&t.authorities.every(function(t){return o.a.isValid(t)}))},t.prototype.hasRole=function(t){return void 0!==this.authorities&&null!=this.authorities&&this.authorities.some(function(e){return e.authority==t})},t.prototype.setRole=function(t,e){void 0!==this.authorities&&null!=this.authorities||(this.authorities=[]);for(var n=-1,i=0;i<this.authorities.length;i++)if(this.authorities[i].authority==t){n=i;break}e&&n<0&&this.authorities.push(new o.a(t,!1)),!e&&n>-1&&this.authorities.splice(n,1)},t.prototype.isSuperUser=function(){for(var t=!1,e=0;e<this.authorities.length;e++)if(1==this.authorities[e].superRole){t=!0;break}return t},t.prototype.getRole=function(){var t=/.*ROLE_/,e=[];return this.authorities&&this.authorities.forEach(function(n){return e.push(n.authority.replace(t,"").replace(/_/," "))}),e.toString().replace(/,/g,", ")},t.prototype.toString=function(){return JSON.stringify(this)},t}()},"Y+98":function(t,e,n){"use strict";n.d(e,"a",function(){return o});var o=function(){function t(t,e){this.direction=t,this.property=e}return t}()},YHBl:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var o=function(){function t(t,e,n,o,i,r,a){this.id=t,this.name=e,this.url=n,this.uniqueId=o,this.rows=i,this.size=r,this.isActive=a}return t}();(function(){function t(t,e,n){this.id=t,this.rowId=e,this.fields=n}t})(),function(){function t(t,e,n,o,i){void 0===o&&(o=0),this.id=t,this.internalId=e,this.position=n,this.count=o,this.product=i}t}(),function(){function t(t,e,n){this.rows=t,this.columns=e,this.cellLimit=n}t}()},YQbX:function(t,e){t.exports='<div class="container-fluid">\n  <div class="col-xs-12 col-md-12 col-xl-12 row header-container">\n    <div class="col-xs-8 col-md-8 col-xl-8">\n      <h2>Coins management</h2>\n    </div>\n  </div>\n</div>\n<hr>\n<div class="container-fluid">\n  <div>\n    <table class="table table-hover">\n      <thead class="thead-inverse">\n      <tr>\n        <th>#</th>\n        <th>Category</th>\n        <th>Amount, coins</th>\n      </tr>\n      </thead>\n      <tbody>\n      <tr>\n        <th scope="row">1</th>\n        <td>Treasury</td>\n        <td>{{treasuryAmount}}</td>\n      </tr>\n      <tr>\n        <th scope="row">2</th>\n        <td>Products price</td>\n        <td>{{productsPrice}}</td>\n      </tr>\n      <tr>\n        <th scope="row">3</th>\n        <td>Accounts coins</td>\n        <td>{{accountsAmount}}</td>\n      </tr>\n      <tr>\n        <th scope="row">4</th>\n        <td>VMs coins</td>\n        <td>{{merchantsAmount}}</td>\n      </tr>\n      </tbody>\n    </table>\n  </div>\n\n  <div class="clearfix"></div>\n\n  <div class="row">\n    <div class="card card-block" [ngClass]="replenishFormStyles.getCardOutlineClass()">\n      <form class="form-inline" (ngSubmit)="replenishAccounts()"\n            [formGroup]="replenishForm">\n        <div class="form-group" [ngClass]="replenishFormStyles.getValidationClass(\'amount\')">\n          <label class="sr-only" for="distributePrice">Amount (in dollars)</label>\n          <div class="input-group">\n            <div class="input-group-addon"><i class="fa fa-lg fa-bitcoin"></i></div>\n            <input type="text" class="form-control" id="distributePrice" placeholder="Amount"\n                   formControlName="amount" [ngClass]="replenishFormStyles.getValidationIcon(\'amount\')">\n          </div>\n        </div>\n        <button type="submit" class="btn btn-success" [disabled]="!isFormValid(replenishForm)">\n          Replenish accounts\n        </button>\n        <div class="row validation-msg" *ngIf="!replenishFormStyles.isValidOrPristine(\'amount\')">\n          <i class="fa fa-lg fa-exclamation-triangle"></i>\n          <label>Enter valid amount!</label>\n        </div>\n      </form>\n    </div>\n  </div>\n\n  <div class="row">\n    <div class="card card-block card-outline-success">\n      <form class="form-inline" (ngSubmit)="withdrawToTreasury()" [formGroup]="withdrawForm">\n        <div class="form-group">\n          <label class="sr-only" for="merchant">Amount (in coins)</label>\n          <select class="form-control" id="merchant" formControlName="merchant">\n            <option *ngFor="let account of merchantAccounts" [ngValue]="account">\n              {{account.fullName}} ({{account.amount}}) {{account.isNew ? \'NEW\' : \'\'}}\n            </option>\n          </select>\n        </div>\n        <button type="submit" class="btn btn-success">\n          Withdraw to treasury\n        </button>\n      </form>\n    </div>\n  </div>\n\n  <div class="row">\n    <div class="card card-block" [ngClass]="transferFormStyles.getCardOutlineClass()">\n      <form class="form-inline" (ngSubmit)="transferToAccount()" [formGroup]="transferForm">\n        <div class="form-group">\n          <label class="sr-only" for="account">Amount (in coins)</label>\n          <select class="form-control" id="account" formControlName="account">\n            <option *ngFor="let account of regularAccounts" [ngValue]="account">\n              {{account.fullName}} ({{account.amount}}) {{account.isNew ? \'NEW\' : \'\'}}\n            </option>\n          </select>\n        </div>\n        <div class="form-group" [ngClass]="transferFormStyles.getValidationClass(\'amount\')">\n          <label class="sr-only" for="transferAmount">Amount (in coins)</label>\n          <div class="input-group">\n            <div class="input-group-addon"><i class="fa fa-lg fa-bitcoin"></i></div>\n            <input type="text" class="form-control" id="transferAmount" placeholder="Amount"\n                   formControlName="amount" [ngClass]="transferFormStyles.getValidationIcon(\'amount\')">\n          </div>\n        </div>\n        <button type="submit" class="btn btn-success" [disabled]="!isFormValid(transferForm)">\n          Transfer coins\n        </button>\n        <div class="row validation-msg" *ngIf="!transferFormStyles.isValidOrPristine(\'amount\')">\n          <i class="fa fa-lg fa-exclamation-triangle"></i>\n          <label>Enter valid amount!</label>\n        </div>\n      </form>\n    </div>\n  </div>\n\n  <div class="row">\n    <div class="card card-block" [ngClass]="transferFileFormStyle">\n      <div [hidden]="progressHide">\n        <div class="text-xs-center" id="progress-text">\n          {{progressValue}}%\n        </div>\n        <progress class="progress progress-striped progress-animated progress-success"\n                  [max]="progressMax" [value]="progressCurrent"\n                  aria-describedby="progress-text">\n        </progress>\n      </div>\n      <form class="form-inline">\n        <div class="form-group">\n          <button type="button" class="btn btn-success" (click)="getTemplate()">\n            Download template\n          </button>\n        </div>\n        <div class="form-group">\n          <div class="input-group">\n            <span class="input-group-addon"><i class="fa fa-file-text fa-lg"></i></span>\n            <input type="text" class="form-control" readonly [value]="fileName">\n            <label class="input-group-btn" [ngClass]="">\n                    <span class="btn btn-info" [ngClass]="blockAttachFileIfInProcessClass">\n                      <i class="fa fa-search btn-icon"></i>Attache file\n                        <input type="file" style="display: none;"\n                               accept=".csv"\n                               (change)="handleInputChange($event)" [disabled]="blockAttachFileIfInProcess">\n                    </span>\n            </label>\n          </div>\n        </div>\n        <button type="submit" class="btn btn-success" (click)="transferToAccounts()"\n                [disabled]="transferFileButtonDisabled">\n          Transfer coins\n        </button>\n        <button type="button" class="btn btn-success" (click)="showResults()"\n                [disabled]="showResultsButtonHide">\n          Watch Results\n        </button>\n      </form>\n      <div class="row" [hidden]="showResultsHide">\n        <div class="col-xs-12 col-md-12 col-xl-12">\n          <br>\n          <table class="table table-hover">\n            <thead class="thead-inverse">\n            <tr>\n              <th class="column-visibility">#</th>\n              <th>Account</th>\n              <th>Status</th>\n              <th>Amount, coins</th>\n            </tr>\n            </thead>\n            <tbody>\n            <tr *ngFor="let transaction of transactions; let i = index">\n              <th class="column-visibility" scope="row">{{i + 1}}</th>\n              <td>{{transaction?.destination}}</td>\n              <td>{{transaction?.status}}</td>\n              <td>{{transaction?.amount}}</td>\n            </tr>\n            </tbody>\n          </table>\n        </div>\n      </div>\n    </div>\n  </div>\n\n</div>\n'},YWx4:function(t,e,n){"use strict";var o=n("3j3K"),i=n("NiNS");n.d(e,"a",function(){return s});var r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},s=function(){function t(){this.options=i.a.NOTIFICATION_OPTIONS}return t.prototype.ngOnInit=function(){},t}();s=r([n.i(o.Component)({selector:"app-root",template:n("5xMp"),styles:[n("sQHO")]}),a("design:paramtypes",[])],s)},YyRa:function(t,e,n){e=t.exports=n("FZ+f")(),e.push([t.i,".table td,th{text-align:center}select.form-control{width:auto}.card-block{padding:10px}.horizontal-alignment{text-align:center}.horizontal-alignment,.vertical-align{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center}@media (min-width:992px) and (max-width:1080px){.col-lg-3,.col-lg-6{float:left;width:100%}}@media (max-width:320px){.vertical-align{display:block;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}}@media (max-width:360px){.vertical-align{display:block;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}}@media (max-width:480px){.vertical-align{display:block;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}}@media (max-width:568px){.vertical-align{display:block;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}}@media screen and (max-width:411px){.column-visibility{display:none}}",""]),t.exports=t.exports.toString()},Z7iu:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var o=function(){function t(t,e,n,o,i){this.machineId=t,this.type=e,this.timeZoneOffSet=n,this.start=o,this.due=i}return t}()},ZSgR:function(t,e){t.exports='<li class="dropdown-item" (click)="click($event,key)" *ngFor="let key of getKeys()" [ngClass]="hasSubsClass(data[key])">\n  <a>{{key | upperFirstSymbol}}</a>\n  <ul class="dropdown-menu" *ngIf="hasSubs(data[key])">\n    <li app-cascade-items [data]="data[key]" [field]="field+key+\'.\'" [control]="control"></li>\n  </ul>\n</li>\n'},Znoh:function(t,e,n){e=t.exports=n("FZ+f")(),e.push([t.i,"",""]),t.exports=t.exports.toString()},a2bi:function(t,e,n){e=t.exports=n("FZ+f")(),e.push([t.i,"",""]),t.exports=t.exports.toString()},aFzp:function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n.d(e,"b",function(){return r});var o=(function(){function t(t,e,n,o){this.ldapId=t,this.amount=e,this.fullName=n,this.isNew=o}t}(),function(){function t(t){this.type=t}return t}()),i=new o("regular"),r=new o("merchant")},alL1:function(t,e,n){"use strict";var o=n("3j3K"),i=n("vc0H"),r=n("uA+w"),a=n("Wv3i"),s=n("5oXY"),c=n("0rCA"),l=(n.n(c),n("nOx2")),d=n("v4X5"),u=n("CJC7"),p=n("Gvdl");n.n(p);n.d(e,"a",function(){return m});var f=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},h=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},m=function(){function t(t,e,n,o){this.categoryService=t,this.productService=e,this.notify=n,this.router=o,this.categories=[],this._mainProductURI="/main/products"}return t.prototype.ngOnInit=function(){this.initFromComponent()},t.prototype.submitCoverImage=function(t){var e=this.imageLoaderComponent.getImageFormData("file");return e?this.productService.updateImage(t,e):p.Observable.empty()},t.prototype.submitDescriptionImages=function(t){var e=this.imageLoaderComponent.getDescriptionImagesFormData("files");return e?this.productService.updateImages(t,e):p.Observable.empty()},t.prototype.submit=function(){var t=this;if(this.imageLoaderComponent.isEmpty())this.notify.errorNoImageMsg();else{var e=this.formComponent.form.value;this.productService.save(e).subscribe(function(e){t.submitCoverImage(e.id).merge(t.submitDescriptionImages(e.id)).subscribe(void 0,function(e){return t.errorHandle(e)},function(){return t.reset()})},function(e){return t.errorHandle(e)})}},t.prototype.cancel=function(){this.router.navigate([this._mainProductURI])},t.prototype.getCardOutlineClass=function(){if(this.formComponent&&this.formComponent.formStyles)return this.formComponent.formStyles.getCardOutlineClass()},t.prototype.isValid=function(){return this.formComponent&&this.imageLoaderComponent&&this.formComponent.isValid()&&!this.imageLoaderComponent.isEmpty()},t.prototype.errorHandle=function(t){try{var e=t.json();t.status==c.UNSUPPORTED_MEDIA_TYPE?this.notify.errorWrongFormatMsg():1052==e.code?this.notify.errorProductDuplicateMsg():this.notify.errorDetailedMsg(t.json())}catch(t){this.notify.logError(t)}},t.prototype.initFromComponent=function(){var t=this;this.categoryService.findAll().subscribe(function(e){return t.setCategoriesAndEmptyProduct(e)},function(e){return t.notify.errorDetailedMsgOrConsoleLog(e)})},t.prototype.setCategoriesAndEmptyProduct=function(t){this.categories=t,this.product=new r.a,this.categories.length>0&&(this.product.category=this.categories[0])},t.prototype.reset=function(){this.formComponent&&this.formComponent.reset(),this.imageLoaderComponent&&this.imageLoaderComponent.reset()},t}();f([n.i(o.ViewChild)("imageLoader"),h("design:type","function"==typeof(g=void 0!==d.a&&d.a)&&g||Object)],m.prototype,"imageLoaderComponent",void 0),f([n.i(o.ViewChild)("productForm"),h("design:type","function"==typeof(v=void 0!==u.a&&u.a)&&v||Object)],m.prototype,"formComponent",void 0),m=f([n.i(o.Component)({selector:"add-product",template:n("C8z8"),styles:[n("BQcI")]}),h("design:paramtypes",["function"==typeof(b=void 0!==i.a&&i.a)&&b||Object,"function"==typeof(y=void 0!==a.a&&a.a)&&y||Object,"function"==typeof(w=void 0!==l.a&&l.a)&&w||Object,"function"==typeof(x=void 0!==s.b&&s.b)&&x||Object])],m);var g,v,b,y,w,x},bCFb:function(t,e){t.exports='<button class="btn btn-default" id="toggle-sidebar" type="button" (click)="eventCalled()">\n  &#9776;\n</button>\n<nav class="sidebar" [ngClass]="{\'sidebarPushRight\': isActive}">\n  <ul class="list-group">\n    <li *ngIf="isVisible(\'/main\')">\n      <a [routerLink]="[\'/main\']" routerLinkActive="router-link-active"\n         [routerLinkActiveOptions]="{exact: true}" (click)="hide()" class="list-group-item">\n        <i class="fa fa-th fa-lg"></i>Dashboard\n      </a>\n    </li>\n    <li *ngIf="isVisible(\'/main/products\')">\n      <a [routerLink]="[\'/main/products\']"\n         routerLinkActive="router-link-active"\n         [routerLinkActiveOptions]="{exact: true}" class="list-group-item" (click)="hide()">\n        <span><i class="fa fa-shopping-basket fa-lg"></i>Products</span>\n      </a>\n    </li>\n    <li *ngIf="isVisible(\'/main/machines\')">\n      <a [routerLink]="[\'/main/machines\']" routerLinkActive="router-link-active"\n         [routerLinkActiveOptions]="{exact: true}" class="list-group-item" (click)="hide()">\n        <span><i class="fa fa-cogs fa-lg"></i>Vending machines</span>\n      </a>\n    </li>\n    <li *ngIf="isVisible(\'/main/coins\')">\n      <a [routerLink]="[\'/main/coins\']" routerLinkActive="router-link-active"\n         [routerLinkActiveOptions]="{exact: true}" class="list-group-item" (click)="hide()">\n        <span><i class="fa fa-money fa-lg"></i>Coins management</span>\n      </a>\n    </li>\n    <li *ngIf="isVisible(\'/main/transactions\')">\n      <a [routerLink]="[\'/main/transactions\']" routerLinkActive="router-link-active"\n         [routerLinkActiveOptions]="{exact: true}" class="list-group-item" (click)="hide()">\n        <span><i class="fa fa-exchange fa-lg"></i>Transactions</span>\n      </a>\n    </li>\n    <li *ngIf="isVisible(\'/main/categories\')">\n      <a [routerLink]="[\'/main/categories\']" routerLinkActive="router-link-active"\n         [routerLinkActiveOptions]="{exact: true}" class="list-group-item" (click)="hide()">\n        <span><i class="fa fa-tags fa-lg"></i>Categories</span>\n      </a>\n    </li>\n    <li *ngIf="isVisible(\'/main/users\')">\n      <a [routerLink]="[\'/main/users\']" routerLinkActive="router-link-active"\n         [routerLinkActiveOptions]="{exact: true}" class="list-group-item" (click)="hide()">\n        <span><i class="fa fa-users fa-lg"></i>Users</span>\n      </a>\n    </li>\n    <li>\n      <a class="list-group-item log-out" (click)="logout()">\n        <span><i class="fa fa-power-off fa-lg"></i>Log Out</span>\n      </a>\n    </li>\n  </ul>\n</nav>\n'},bDF6:function(t,e,n){e=t.exports=n("FZ+f")(),e.push([t.i,".table td,th{text-align:center;cursor:pointer}div.horizontal-alignment select.form-control{width:auto}.horizontal-alignment{text-align:center}.horizontal-alignment,.vertical-align{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center}@media (min-width:1500px) and (max-width:1700px){.text-overflow{max-width:200px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}}@media (max-width:1500px){div.x-scroll{overflow-x:scroll;-webkit-overflow-scrolling:touch;-ms-overflow-style:-ms-autohiding-scrollbar}table{width:200%;max-width:inherit}}@media (min-width:992px) and (max-width:1080px){.col-lg-3{float:left;width:100%}}@media (min-width:800px) and (max-width:1280px){.col-lg-6,.col-xl-6{float:left;width:100%}}@media (max-width:320px){.vertical-align{display:block;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}}@media (max-width:360px){.vertical-align{display:block;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}}@media (max-width:480px){.vertical-align{display:block;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}}@media (max-width:568px){.vertical-align{display:block;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}}",""]),t.exports=t.exports.toString()},bnFi:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var o=function(){function t(t,e){void 0===t&&(t=""),void 0===e&&(e=""),this.code=t,this.message=e}return t}()},"c6/q":function(t,e,n){"use strict";var o=n("3j3K"),i=n("YHBl"),r=n("kFGv"),a=n("iW/o"),s=n("5oXY");n.d(e,"a",function(){return d});var c=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},l=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},d=function(){function t(t,e,n,i){this.modal=n,this.router=i,this.onDelete=new o.EventEmitter,t.defaultViewContainer=e}return t.prototype.ngOnInit=function(){},t.prototype.onEditMachine=function(){this.router.navigate(["/main/machines",this.machine.id,"edit"])},t.prototype.deleteMachine=function(){var t=this;this.modal.confirm().size("sm").isBlocking(!0).showClose(!0).keyboard(27).title("Delete machine").body("Do you really want to delete this vending machine?").okBtn("Yes").okBtnClass("btn btn-success modal-footer-confirm-btn").cancelBtn("Cancel").cancelBtnClass("btn btn-secondary modal-footer-confirm-btn").open().then(function(e){e.result.then(function(){t.onDelete.emit(t.machine.id)},function(){})})},t}();c([n.i(o.Input)(),l("design:type","function"==typeof(u=void 0!==i.a&&i.a)&&u||Object)],d.prototype,"machine",void 0),c([n.i(o.Output)(),l("design:type",Object)],d.prototype,"onDelete",void 0),d=c([n.i(o.Component)({selector:"machine-item",template:n("stYV"),styles:[n("Mi/A")]}),l("design:paramtypes",["function"==typeof(p=void 0!==a.g&&a.g)&&p||Object,"function"==typeof(f=void 0!==o.ViewContainerRef&&o.ViewContainerRef)&&f||Object,"function"==typeof(h=void 0!==r.b&&r.b)&&h||Object,"function"==typeof(m=void 0!==s.b&&s.b)&&m||Object])],d);var u,p,f,h,m},cCmg:function(t,e){t.exports='<div class="affix-top">\n  <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 row header-container">\n    <div class="col-xs-9 col-sm-4 col-md-3 col-lg-6 col-xl-7">\n      <h2>Products</h2>\n    </div>\n    <div class="col-xs-12 col-sm-8 col-md-9 col-lg-6 col-xl-5 header-buttons-container">\n      <form [formGroup]="form">\n        <div class="right-inner-addon">\n          <a (click)="searchCancel()" class="fa fa-lg" [ngClass]="searchChangeClass"></a>\n          <input type="search"\n                 class="form-control"\n                 formControlName="name"\n                 placeholder="Search"/>\n        </div>\n      </form>\n      <button class="btn btn-success" [routerLink]="[\'/main/products/add\']">\n        <i class="fa fa-plus btn-icon"></i>Create\n      </button>\n    </div>\n  </div>\n  <div class="header-divider">\n    <hr style="width: 100%">\n  </div>\n</div>\n<div class="container-fluid affix-bottom">\n  <product-item *ngFor="let product of products" [product]="product" (onDelete)="onDelete($event)"></product-item>\n</div>\n\n\n\n\n'},daVk:function(t,e){t.exports='<top-nav></top-nav>\n<side-bar></side-bar>\n<section class="main-container" [ngClass]="{sidebarPushRight: isActive}">\n  <router-outlet></router-outlet>\n</section>\n'},dtD4:function(t,e,n){"use strict";var o=n("3j3K"),i=n("Gvdl"),r=(n.n(i),n("/eRw")),a=n("NiNS"),s=n("bnFi"),c=n("Xs1p"),l=n("/c+T");n.d(e,"a",function(){return f});var d=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},u=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},p={ROLE_BILLING:["/main/coins","/main/transactions"],ROLE_INVENTORY:["/main","/main/products","/main/machines","/main/categories"],ROLE_USER_MANAGER:["/main/users"],ROLE_SUPER_ADMIN:["/main/coins"].concat(["/main/products","/main/machines","/main/categories"]).concat(["/main/products","/main/machines","/main/categories"]).concat(["/main/users"])},f=h=function(){function t(t,e){this.tokenService=t,this.httpService=e,this.STORAGE_KEY="account"}return t.prototype.createAccount=function(t){var e=this;return new i.Observable(function(n){var o=new s.a("auth/creation-failure","Error appeared during account creation please try again later"),i=a.a.AUTH_API+"/users/"+t;e.httpService.get(i).subscribe(function(t){if(t.ok){var i=e.createAccountFromJson(t.json());n.next(i),n.complete()}else n.error(o)},function(t){return n.error(o)})})},t.prototype.login=function(t){var e=this;return new i.Observable(function(n){e.tokenService.deleteTokensFromStorage();var o=new s.a("auth/account-not-found","Wrong credentials");h.verifyCredentials(t)?e.tokenService.getAccessToken(t).subscribe(function(o){return e.createAccount(t.username).subscribe(function(t){e.account=t,n.complete()},function(t){return n.error(t)})},function(t){return n.error(o)}):n.error(o)})},t.prototype.logout=function(){this.tokenService.revokeRefreshToken().subscribe(function(){return null},function(t){return null}),this.deleteAccountFromLocalStorage(),this.tokenService.deleteTokensFromStorage()},t.verifyCredentials=function(t){var e=/^[\w!@#$%\^&*()\-\\.|\/?><;':"+=~`{}\[\],]+$/i;return e.test(t.username)&&e.test(t.password)},t.prototype.createAccountFromJson=function(t){var e=new c.a(t.ldapId,t.fullName,t.email,this.tokenService.authorities);return localStorage.setItem(this.STORAGE_KEY,e.toString()),e},t.prototype.getAccount=function(){return new c.a(JSON.parse(localStorage.getItem(this.STORAGE_KEY)))},t.prototype.deleteAccountFromLocalStorage=function(){localStorage.removeItem(this.STORAGE_KEY),this.account=null},t.prototype.getRoutes=function(){var t=[];return this.getAccount().authorities.forEach(function(e){return t=p[e.authority]?t.concat(p[e.authority]):t}),Array.from(new Set(t))},t}();f=h=d([n.i(o.Injectable)(),u("design:paramtypes",["function"==typeof(m=void 0!==r.a&&r.a)&&m||Object,"function"==typeof(g=void 0!==l.a&&l.a)&&g||Object])],f);var h,m,g},eKC9:function(t,e){t.exports='<div class="row" [formGroup]="filter">\n  <div class="form-group col-sm-4 col-md-4 col-lg-4 col-xl-4">\n    <div class="input-group">\n      <div class="input-group-addon">Field</div>\n      <input class="form-control" readonly value="{{filter.controls[\'field\'].value | pointSeparator}}">\n      <app-dropdown-cascade class="input-group-btn" [data]="data"\n                            [control]="filter.controls[\'field\']"></app-dropdown-cascade>\n    </div>\n  </div>\n  <div class="form-group col-sm-4 col-md-4 col-lg-4 col-xl-4">\n    <input class="form-control" *ngIf="transactionService.getType2(data,filter.controls[\'field\'].value) == \'text\' &&\n     filter.controls[\'comparison\'].value != \'in\'" type="text"\n           placeholder="Enter {{filter.controls[\'field\'].value | pointSeparator}}" formControlName="value"\n           list="autocomplete">\n    <datalist id="autocomplete">\n      <option *ngFor="let value of autocomplete">{{value}}</option>\n    </datalist>\n    <input class="form-control" *ngIf="transactionService.getType2(data,filter.controls[\'field\'].value) == \'number\' &&\n     filter.controls[\'comparison\'].value != \'in\'"\n           type="number"\n           placeholder="Enter {{filter.controls[\'field\'].value | pointSeparator}}" formControlName="value">\n    <div class="input-group" *ngIf="transactionService.getType2(data,filter.controls[\'field\'].value) == \'date\'">\n      <input class="form-control" formControlName="value" disabled *ngIf="datetimeValue"\n             [value]="datetimeValue | DatePipe">\n      <input class="form-control" formControlName="value" disabled *ngIf="!datetimeValue">\n      <md2-datepicker type="datetime" [isOpen]="isOpen" (change)="dateTimeSelected($event)"\n                      style="display: none"></md2-datepicker>\n      <div class="input-group-addon" (click)="openDatepicker()">\n        <i class="fa fa-calendar fa-lg"></i>\n      </div>\n    </div>\n    <div class="switch array-padding"\n         *ngIf="transactionService.getType2(data,filter.controls[\'field\'].value) == \'bool\'">\n      <input id="value" class="cmn-toggle cmn-toggle-round-flat" formControlName="value" type="checkbox">\n      <label for="value"></label>\n    </div>\n    <rl-tag-input *ngIf="filter.controls[\'comparison\'].value == \'in\'"\n                  placeholder="Enter {{filter.controls[\'field\'].value | pointSeparator}}"\n                  (addTag)="addWhileInclude($event)" (removeTag)="removeWhileInclude($event)"></rl-tag-input>\n  </div>\n  <div class="form-group col-sm-4 col-md-4 col-lg-4 col-xl-4">\n    <div class="input-group">\n      <div class="input-group-addon">Condition</div>\n      <select id="condition" class="form-control" formControlName="comparison">\n        <option value="eq">Equal</option>\n        <option value="gt" *ngIf="transactionService.getType2(data,filter.controls[\'field\'].value) != \'text\'">Greater\n          than\n        </option>\n        <option value="lt" *ngIf="transactionService.getType2(data,filter.controls[\'field\'].value) != \'text\'">Less than\n        </option>\n        <option value="in" *ngIf="transactionService.getType2(data,filter.controls[\'field\'].value) != \'date\'">Include\n        </option>\n      </select>\n    </div>\n  </div>\n</div>\n'},eLjP:function(t,e,n){"use strict";var o=n("3j3K"),i=n("NVOs"),r=n("Vw8t"),a=n("vc0H"),s=n("ZPic"),c=n("q2CE"),l=n("5oXY"),d=n("Um43");n.d(e,"a",function(){return f});var u=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},p=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},f=function(){function t(t,e,n){this.categoryService=t,this.notificationService=e,this.router=n,this.isVisible=!1,this.isVisibleChange=new o.EventEmitter,this.categoryChange=new o.EventEmitter,this.visibility="hidden"}return t.prototype.ngOnInit=function(){this.buildForm()},t.prototype.ngOnChanges=function(){this.visibility=this.isVisible?"shown":"hidden"},t.prototype.buildForm=function(){this.form=new i.FormGroup({name:new i.FormControl("",[i.Validators.required,i.Validators.maxLength(50),i.Validators.pattern("^[a-zA-ZЀ-ӿ]+[a-zA-Z Ѐ-ӿ]*[a-zA-ZЀ-ӿ]+$")])}),this.formStyles=new c.a(this.form)},t.prototype.submit=function(){var t=this,e=new r.a(this.form.get("name").value);this.categoryService.save(e).subscribe(function(e){t.notificationService.success("Create","Category has been created successfully"),t.form.reset({name:""}),t.categoryChange.emit(!0)},function(e){try{var n=e.json();if(1062==n.code)t.notificationService.error("Error","Such category name exists!");else{if(!n.detail)throw n;t.notificationService.error("Error",n.detail)}}catch(e){console.log(e),t.notificationService.error("Error","Error appeared, watch logs!")}})},t.prototype.cancel=function(){this.isVisible=!1,this.isVisibleChange.emit(this.isVisible)},t}();u([n.i(o.Input)(),p("design:type",Boolean)],f.prototype,"isVisible",void 0),u([n.i(o.Output)(),p("design:type",Object)],f.prototype,"isVisibleChange",void 0),u([n.i(o.Output)(),p("design:type",Object)],f.prototype,"categoryChange",void 0),f=u([n.i(o.Component)({selector:"add-category",template:n("Ina0"),styles:[n("GZ0f")],animations:[n.i(d.f)("menuState",[n.i(d.g)("shown",n.i(d.c)({display:"block"})),n.i(d.g)("hidden",n.i(d.c)({display:"none"})),n.i(d.h)("shown <=> hidden",[n.i(d.i)("100ms ease-out")])])]}),p("design:paramtypes",["function"==typeof(h=void 0!==a.a&&a.a)&&h||Object,"function"==typeof(m=void 0!==s.a&&s.a)&&m||Object,"function"==typeof(g=void 0!==l.b&&l.b)&&g||Object])],f);var h,m,g},eSsP:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var o=function(){function t(){}return t}();o.ACCEPT="Accept",o.AUTHORIZATION="Authorization",o.CONTENT_TYPE="Content-Type"},evNi:function(t,e){t.exports='<form (ngSubmit)="submit()" [formGroup]="form" enctype="multipart/form-data">\n  <div class="form-group row" [ngClass]="formStyles.getValidationClass(\'name\')">\n    <label for="product-name" class="col-sm-2 col-form-label">Name</label>\n    <div class="col-sm-10">\n      <input class="form-control" type="text" placeholder="Enter name" id="product-name"\n             formControlName="name" [(ngModel)]="product.name"\n             [ngClass]="formStyles.getValidationIcon(\'name\')">\n\n      <label [hidden]="formStyles.isValidOrPristine(\'name\')" class="form-control-feedback pull-right">\n        Enter valid name!\n      </label>\n    </div>\n  </div>\n  <div class="form-group row" [ngClass]="formStyles.getValidationClass(\'price\')">\n    <label for="product-price" class="col-sm-2 col-form-label">Price</label>\n    <div class="col-sm-10">\n      <div class="input-group">\n        <div class="input-group-addon"><i class="fa fa-bitcoin fa-lg"></i></div>\n        <input class="form-control" type="number" placeholder="Enter price" id="product-price"\n               formControlName="price" [(ngModel)]="product.price" [ngClass]="formStyles.getValidationIcon(\'price\')">\n      </div>\n      <label [hidden]="formStyles.isValidOrPristine(\'price\')"\n             class="form-control-feedback pull-right">\n        Enter valid price!\n      </label>\n    </div>\n  </div>\n  <div class="form-group row">\n    <label for="product-category" class="col-sm-2 col-form-label">Category</label>\n    <div class="col-sm-10">\n      <select id="product-category" class="form-control" formControlName="category" [(ngModel)]="product.category">\n        <option *ngFor="let category of categories;" [ngValue]="category">\n          {{category?.name}}\n        </option>\n      </select>\n    </div>\n  </div>\n  <div class="form-group row">\n    <label for="product-description" class="col-sm-2 col-form-label">Description</label>\n    <div class="col-sm-10">\n              <textarea class="form-control" id="product-description" rows="3" [(ngModel)]="product.description"\n                        placeholder="Enter description" formControlName="description"></textarea>\n    </div>\n  </div>\n</form>\n'},f5x9:function(t,e,n){e=t.exports=n("FZ+f")(),e.push([t.i,"a.fa{position:absolute;z-index:1000;top:30%;right:20px;cursor:pointer}a.wrapper-link{background:transparent;color:#373a3c}a.wrapper-link :hover{color:#373a3c;text-decoration:none}div.card-footer i{color:red}div.card-footer i:hover{color:#710909}.affix-top{z-index:10;background-color:#fff;position:fixed;left:225px;right:0;margin-top:-10px;padding:10px 10px 0}.affix-bottom{margin-top:80px}.right-inner-addon{position:absolute;width:70%}.right-inner-addon input{padding-right:30px}.right-inner-addon i{position:absolute;right:0;padding:10px 12px;pointer-events:none}@media only screen and (max-width:768px){[class*=affix-top]{left:0}}@media only screen and (min-width:320px) and (max-width:360px){a.fa{right:10px}.right-inner-addon{width:60%}}@media only screen and (min-width:360px) and (max-width:480px){a.fa{right:20px}.right-inner-addon{width:65%}}@media screen and (min-width:0px) and (max-width:600px){.affix-bottom{margin-top:115px}}@media screen and (min-width:480px) and (max-width:740px){.right-inner-addon{width:70%}}@media screen and (min-width:320px) and (max-width:600px){.header-container{display:inline-block}}@media screen and (min-width:340px) and (max-width:568px){.col-sm-8{width:81%}}@media screen and (max-width:568px) and (min-width:340px){.col-sm-8{width:100%}}@media screen and (min-width:361px) and (max-width:1080px){.right-inner-addon{padding-right:10px}.right-inner-addon i{padding-right:15px}}@media screen and (min-width:1280px) and (max-width:1560px){.col-xl-7{width:100%}.col-xl-5{width:70%}}@media screen and (min-width:1560px) and (max-width:1920px){.col-xl-7{width:100%}.col-xl-5{width:70%}}",""]),t.exports=t.exports.toString()},fBYW:function(t,e,n){"use strict";var o=n("3j3K");n.d(e,"a",function(){return r});var i=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},r=function(){function t(){}return t.prototype.transform=function(t,e){return t.rows+"x"+t.columns+"x"+t.cellLimit},t}();r=i([n.i(o.Pipe)({name:"machineSize"})],r)},fGrW:function(t,e,n){"use strict";var o=n("3j3K"),i=n("5oXY"),r=n("9nY+");n.d(e,"a",function(){return c});var a=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},s=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},c=function(){function t(t,e){this.route=t,this.transactionService=e}return t.prototype.ngOnInit=function(){var t=this;this.subscription=this.route.params.subscribe(function(e){t.transactionService.getById(e.id).subscribe(function(e){t.transaction=e,t.generalFields=Object.keys(t.transaction).filter(function(t){if("transactionStoring"!=t&&"id"!=t)return t}),t.transaction.transactionStoring&&(t.blockFields=Object.keys(t.transaction.transactionStoring).filter(function(t){if("transaction"!=t&&"callingValue"!=t&&"id"!=t)return t}),t.erisFields=Object.keys(t.transaction.transactionStoring.transaction).filter(function(t){return t}),t.callingFields=Object.keys(t.transaction.transactionStoring.callingValue).filter(function(t){return t}))})})},t}();c=a([n.i(o.Component)({selector:"app-transaction",template:n("oOBK"),styles:[n("Dc+T")]}),s("design:paramtypes",["function"==typeof(l=void 0!==i.c&&i.c)&&l||Object,"function"==typeof(d=void 0!==r.a&&r.a)&&d||Object])],c);var l,d},feIw:function(t,e,n){"use strict";var o=n("3j3K");n.d(e,"a",function(){return a});var i=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},r=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},a=function(){function t(t){this.el=t}return t.prototype.getElement=function(){return this.el.nativeElement},t}();i([n.i(o.Input)(),r("design:type",String)],a.prototype,"cellId",void 0),a=i([n.i(o.Directive)({selector:"[machineCell]"}),r("design:paramtypes",["function"==typeof(s=void 0!==o.ElementRef&&o.ElementRef)&&s||Object])],a);var s},fuBi:function(t,e,n){"use strict";var o=n("3j3K");n.d(e,"a",function(){return a});var i=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},r=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},a=function(){function t(t){this.el=t}return t.prototype.getElement=function(){return this.el.nativeElement},t}();i([n.i(o.Input)(),r("design:type",Number)],a.prototype,"rowId",void 0),a=i([n.i(o.Directive)({selector:"[machineRow]"}),r("design:paramtypes",["function"==typeof(s=void 0!==o.ElementRef&&o.ElementRef)&&s||Object])],a);var s},hjdY:function(t,e,n){e=t.exports=n("FZ+f")(),e.push([t.i,'a,li{cursor:pointer}.expand{display:block}.dropdown-submenu{position:relative}.dropdown-submenu>.dropdown-menu{top:0;left:100%;margin-top:-6px;margin-left:-1px;border-radius:4px}.dropdown-submenu:hover>.dropdown-menu{display:block}.dropdown-submenu>a:after{display:block;content:" ";float:right;width:0;height:0;border-color:transparent;border-style:solid;border-width:5px 0 5px 5px;border-left-color:#ccc;margin-top:5px;margin-right:-10px}.dropdown-submenu:hover>a:after{border-left-color:#ccc}.dropdown-submenu.pull-left{float:none}.dropdown-submenu.pull-left>.dropdown-menu{left:-100%;margin-left:10px;border-radius:4px}',""]),t.exports=t.exports.toString()},hnja:function(t,e,n){"use strict";var o=n("3j3K"),i=n("iPwV"),r=n("/c+T"),a=n("NiNS"),s=n("Xs1p");n.d(e,"a",function(){return u});var c=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),l=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},d=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},u=function(t){function e(e){var n=t.call(this,e,s.a.prototype)||this;return n.httpService=e,n}return c(e,t),e.prototype.getUrl=function(){return a.a.AUTH_API+"/admin"},e}(i.a);u=l([n.i(o.Injectable)(),d("design:paramtypes",["function"==typeof(p=void 0!==r.a&&r.a)&&p||Object])],u);var p},htxC:function(t,e){t.exports='<nav class="navbar navbar-dark bg-inverse navbar-fixed-top topnav">\n  <div class="collapse navbar-toggleable-xs clearfix text-center">\n    <a class="navbar-brand" [routerLink]="[\'/main\']">Vending Admin</a>\n\n    <ul class="nav navbar-nav top-nav navbar-right pull-xs-right top-right-nav">\n      <li class="nav-item" dropdown>\n        <a id="single-button" class="nav-link-disabled nav-link">\n          <i class="fa fa-user"></i>{{account.fullName}}\n        </a>\n      </li>\n      <li class="nav-item">\n        <a class="nav-link" (click)="logout()">\n          <i class="fa fa-fw fa-power-off"></i>Log Out\n        </a>\n      </li>\n    </ul>\n  </div>\n</nav>\n'},iPwV:function(t,e,n){"use strict";var o=n("Gvdl"),i=(n.n(o),n("oIcx"));n.d(e,"a",function(){return r});var r=function(){function t(t,e){this.httpService=t,this.proto=e}return t.prototype.genericFindAll=function(){return this.httpService.get(this.getUrl()).map(function(t){var e,n=t.json();return n.map(function(t){return e=t}),n})},t.prototype.findAll=function(){var t=this;return this.proto?this.httpService.get(this.getUrl()).map(function(e){return e.json().map(function(e){return e.__proto__=t.proto,e})}):this.httpService.get(this.getUrl()).map(function(t){return t.json()})},t.prototype.findOne=function(t){var e=this.getUrl()+"/"+t;return this.httpService.get(e).map(function(t){return t.json()})},t.prototype.save=function(t){return this.httpService.post(this.getUrl(),t,i.a.APPLICATION_JSON).map(function(t){return t.json()})},t.prototype.delete=function(t){var e=this.getUrl()+"/"+t;return this.httpService.delete(e).flatMap(function(t){return o.Observable.empty()})},t.prototype.update=function(t,e){var n=this.getUrl()+"/"+t;return this.httpService.post(n,e,i.a.APPLICATION_JSON).map(function(t){return t.json()})},t}()},iapj:function(t,e,n){e=t.exports=n("FZ+f")(),e.push([t.i,"hr{margin-top:3px;margin-bottom:3px}.product-card{cursor:pointer;text-align:center;vertical-align:bottom}.product-img-container{height:80%}.product-add-icon{padding-top:15%;color:#c2c4ce}.large-screen{display:block}.small-screen{display:none}@media (max-width:768px){.product-card{height:175px}.product-img{max-height:100%;width:auto}div.form-buttons-container button{margin-bottom:5px}}@media (min-width:768px){.cell-card-row{height:175px}.product-img{max-width:100%;height:auto}.product-add-icon{padding-top:35%}.machine-bg{padding:20px;background-color:#4c4c6a}.machine-bg i.fa{color:#c2c4ce}.cell-form{background-color:#fff;margin:0 20px;border-radius:.25rem}.bottom-container{padding:20px;height:200px;background-color:#4c4c6a}.bottom-container .top-row{height:50px}.bottom-container .center-row{height:100px}.bottom-container .center-row .receiver-box{height:100px;background-color:#c2c4ce;border-radius:10px}.bottom-container .bottom-row{height:50px}}.affix-top{z-index:10;background-color:#fff;position:fixed;left:225px;right:0;margin-top:-10px;padding:10px 10px 0}.affix-bottom{margin-top:80px}@media only screen and (max-width:768px){[class*=affix-top]{left:0}.large-screen{display:none}.small-screen{display:block}}",""]),t.exports=t.exports.toString()},"jj/Z":function(t,e){t.exports='<div class="container-fluid">\n  <div class="col-sm-12 col-md-12 col-lg-12 col-xl-12 row header-container">\n    <div class="col-sm-8 col-md-8 col-lg-8 col-xl-8">\n      <h2>Transactions</h2>\n    </div>\n    <div class="col-sm-4 col-md-4 col-lg-4 col-xl-4 header-buttons-container">\n      <button class="btn btn-success" (click)="showFilter()">\n        <i class="fa fa-filter btn-icon"></i>Filter\n      </button>\n    </div>\n  </div>\n</div>\n<hr>\n<div class="container-fluid">\n  <div class="row" [hidden]="hideFilter">\n    <div class="col-xl-1"></div>\n    <div class="col-md-12 col-lg-12 col-xl-10">\n      <div class="card card-block card-outline-success">\n        <form class="form" [formGroup]="filterForm" (ngSubmit)="onSubmit()">\n          <div *ngFor="let filter of filterForm.controls; let i = index">\n            <div [formGroupName]="i">\n              <app-transaction-filter-item [data]="data" [formGroup]="filter"></app-transaction-filter-item>\n            </div>\n          </div>\n          <div class="row">\n            <div class="col-md-12 col-lg-12 col-xl-12 header-buttons-container">\n              <button type="submit" class="btn btn-success" (click)="addFilter()"><i\n                class="fa fa-plus fa-lg btn-icon"></i>Add\n              </button>\n              <button type="submit" class="btn btn-success" [disabled]="!filterForm.valid">Submit\n              </button>\n              <button type="button" class="btn btn-secondary" (click)="onCancel()">Cancel</button>\n            </div>\n          </div>\n        </form>\n      </div>\n    </div>\n    <div class="col-xl-1"></div>\n  </div>\n  <div class="row">\n    <div class="col-md-12 col-lg-12 col-xl-12 x-scroll">\n      <table class="table table-hover">\n        <thead class="thead-inverse">\n        <tr>\n          <th>#</th>\n          <th *ngFor="let field of fields; let i = index" (click)="setSorting(field)">\n            {{field | upperFirstSymbol}} <i [class]="setSortClass(field)"></i></th>\n        </tr>\n        </thead>\n        <tbody>\n        <tr *ngIf="page?.content == \'\'">\n          <th colspan=8>No data to display!</th>\n        </tr>\n        <tr *ngFor="let content of page?.content; let i = index" (click)="openTransaction(content?.id)">\n          <th scope="row">{{i + 1}}</th>\n          <td *ngFor="let field of fields">\n            <div *ngIf="transactionService.getType2(data,field) == \'date\'">{{content[field] | DatePipe}}</div>\n            <div *ngIf="transactionService.getType2(data,field) != \'date\'" class="text-overflow">{{content[field]}}\n            </div>\n          </td>\n        </tr>\n        </tbody>\n      </table>\n    </div>\n  </div>\n  <div class="row" *ngIf="page?.content != \'\'">\n    <form [formGroup]="pageForm">\n      <div class="form-group row horizontal-alignment">\n        <div class="col-md-12 col-lg-10 col-xl-9 vertical-align">\n          <div class="col-md-2 col-lg-2 col-xl-2">\n            <select id="size" class="form-control" formControlName="pageSize" data-dropup-auto="false">\n              <option value="10">10</option>\n              <option value="25">25</option>\n              <option value="50">50</option>\n            </select>\n          </div>\n          <div class="col-md-10 col-lg-6 col-xl-7">\n            <ngb-pagination [collectionSize]="page?.totalElements" [maxSize]="pageItems" [page]="page?.number+1"\n                            [rotate]="true" [size]="pageItemsSize" [directionLinks]="pageDirectionLinks"\n                            [pageSize]="page?.size" (pageChange)="changePage($event)">\n            </ngb-pagination>\n          </div>\n        </div>\n      </div>\n    </form>\n  </div>\n</div>\n'},juj4:function(t,e,n){"use strict";var o=n("3j3K"),i=n("NVOs");n.d(e,"a",function(){return s});var r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},s=function(){function t(){this.expand=""}return t.prototype.ngOnInit=function(){},t.prototype.dropDownExpand=function(){this.expand="expand"==this.expand?"":"expand"},t.prototype.getKeys=function(){return Object.keys(this.data)},t.prototype.hasSubsClass=function(t){return"string"==typeof t?"":Object.keys(t).length>0?"dropdown-submenu":""},t.prototype.hasSubs=function(t){return"string"!=typeof t&&Object.keys(t).length>0},t}();r([n.i(o.Input)("data"),a("design:type",Object)],s.prototype,"data",void 0),r([n.i(o.Input)("control"),a("design:type","function"==typeof(c=void 0!==i.FormControl&&i.FormControl)&&c||Object)],s.prototype,"control",void 0),s=r([n.i(o.Component)({selector:"app-dropdown-cascade",template:n("JyFh"),styles:[n("AG5X")]}),a("design:paramtypes",[])],s);var c},k4fj:function(t,e,n){"use strict";var o=n("3j3K"),i=n("9nY+"),r=n("NVOs"),a=n("wFHq"),s=n("SJiW"),c=n("PqiB"),l=n("Y+98"),d=n("5oXY"),u=n("zNXL");n.n(u);n.d(e,"a",function(){return h});var p=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},f=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},h=function(){function t(t,e,n){this.transactionService=t,this.router=e,this.notificationService=n,this.hideFilter=!0,this.pageSize=10,this.pageItems=5,this.pageDirectionLinks=!0,this.pageItemsSize=""}return t.prototype.ngOnInit=function(){var t=this;this.buildPageSizeForm(),this.buildFilterForm(),this.transactionService.getFilterData().subscribe(function(e){t.data=e;var n=new Set;Object.keys(t.data).forEach(function(t){"id"!=t&&"remain"!=t&&"erisTransactionId"!=t&&n.add(t)}),t.fields=Array.from(n),t.defaultSorting(),t.fetch(1,t.pageSize),t.addFilter()})},t.prototype.buildPageSizeForm=function(){var t=this;this.pageForm=new r.FormGroup({pageSize:new r.FormControl("10")}),window.innerWidth<=800&&(this.pageItems=3,this.pageItemsSize="sm",this.pageDirectionLinks=!0),this.pageForm.get("pageSize").valueChanges.subscribe(function(e){t.pageSize=e,t.fetch(1,t.pageSize)})},t.prototype.buildFilterForm=function(){this.filterForm=new r.FormArray([])},t.prototype.addFilter=function(){this.filterForm.push(new r.FormGroup({field:new r.FormControl("",r.Validators.required),value:new r.FormControl("",[r.Validators.required,r.Validators.nullValidator]),comparison:new r.FormControl("",r.Validators.required)})),this.filterForm.controls[this.filterForm.controls.length-1].get("field").patchValue(this.fields[this.getIndexOfFirstSingle()]),this.filterForm.controls[this.filterForm.controls.length-1].get("comparison").patchValue("eq")},t.prototype.onSubmit=function(){this.fetch(1,this.pageSize)},t.prototype.onCancel=function(){this.filterForm.controls=[],this.addFilter(),this.fetch(1,this.pageSize)},t.prototype.onResize=function(t){t.target.innerWidth>800&&(this.pageItems=5,this.pageItemsSize="",this.pageDirectionLinks=!0)},t.prototype.showFilter=function(){this.hideFilter=!this.hideFilter},t.prototype.openTransaction=function(t){this.router.navigate(["/main/transactions/"+t])},t.prototype.changePage=function(t){this.fetch(t,this.pageSize)},t.prototype.setSortClass=function(t){this.sorts||(this.sorts=new Array);var e=this.sorts.filter(function(e){return e.property==t});return e.length<1?"fa fa-sort":"ASC"==e[0].direction?"fa fa-sort-asc":"DESC"==e[0].direction?"fa fa-sort-desc":void 0},t.prototype.setSorting=function(t){this.sorts||(this.sorts=new Array);var e=this.sorts.filter(function(e){return e.property==t});e.length<1?this.sorts.push(new l.a("ASC",t)):"ASC"==e[0].direction?e[0].direction="DESC":this.sorts.splice(this.sorts.indexOf(e[0],0),1),this.fetch(1,this.pageSize)},t.prototype.toTransactionFilter=function(t){var e=new Array;if(t)for(var n=0,o=t.value;n<o.length;n++){var i=o[n];""!=i.value&&("date"==this.transactionService.getType(i.field)?e.push(new a.a(i.field,new Date(i.value).toISOString(),i.comparison)):"number"==this.transactionService.getType(i.field)&&Array.isArray(i.field)?e.push(new a.a(i.field,i.value.map(function(t){return parseInt(t)}),i.comparison)):e.push(new a.a(i.field,i.value,i.comparison)))}var r=new s.a(this.sorts);return new c.a(e,r)},t.prototype.validateInclude=function(t){if(t)for(var e=0,n=t.value;e<n.length;e++){var o=n[e];if("number"==this.transactionService.getType(o.field)&&"in"==o.comparison)for(var i=0,r=o.value;i<r.length;i++){var a=r[i];if(isNaN(a))throw new Error("Field "+o.field+"does not belong to type number")}}},t.prototype.fetch=function(t,e){var n,o=this;try{this.validateInclude(this.filterForm),n=this.toTransactionFilter(this.filterForm),n.pageable.page=t-1,n.pageable.size=e,this.transactionService.get(n).subscribe(function(t){o.page=t},function(t){o.notificationService.error("Error",t.detail)})}catch(t){this.notificationService.error("Error",t.message)}},t.prototype.getIndexOfFirstSingle=function(){for(var t=0;t<this.fields.length;t++)if(!(this.data[this.fields[t]]instanceof Object))return t},t.prototype.defaultSorting=function(){for(var t=0,e=this.fields;t<e.length;t++){var n=e[t];"date"==this.data[n]&&(this.sorts=new Array,this.sorts.push(new l.a("DESC",n)))}},t}();p([n.i(o.HostListener)("window:resize",["$event"]),f("design:type",Function),f("design:paramtypes",[Object]),f("design:returntype",void 0)],h.prototype,"onResize",null),h=p([n.i(o.Component)({selector:"app-transactions",template:n("jj/Z"),styles:[n("bDF6")]}),f("design:paramtypes",["function"==typeof(m=void 0!==i.a&&i.a)&&m||Object,"function"==typeof(g=void 0!==d.b&&d.b)&&g||Object,"function"==typeof(v=void 0!==u.NotificationsService&&u.NotificationsService)&&v||Object])],h);var m,g,v},kZql:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var o={production:!0}},"l/BV":function(t,e,n){"use strict";var o=n("3j3K");n.d(e,"a",function(){return r});var i=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},r=function(){function t(){}return t.prototype.transform=function(t,e){for(var n=t.split("."),o="",i=0,r=n;i<r.length;i++){var a=r[i];o+=a.charAt(0).toUpperCase()+a.substring(1,t.length)+" "}return o},t}();r=i([n.i(o.Pipe)({name:"pointSeparator"})],r)},mARt:function(t,e){t.exports='<div class="container-fluid">\n  <div class="col-xs-12 col-md-12 col-xl-12 row header-container">\n    <div class="col-xs-8 col-md-8 col-xl-8">\n      <h2>Vending machines</h2>\n    </div>\n    <div class="col-xs-4 col-md-4 col-xl-4 header-buttons-container">\n      <button class="btn btn-success" [routerLink]="[\'/main/machines/add\']">\n        <i class="fa fa-plus btn-icon"></i>Create\n      </button>\n    </div>\n  </div>\n</div>\n<hr>\n<div class="container-fluid">\n  <machine-item *ngFor="let machine of machines"\n                [machine]="machine" (onDelete)="onDelete($event)">\n  </machine-item>\n</div>\n'},mblW:function(t,e,n){"use strict";var o=n("50aa");n.d(e,"a",function(){return o.a});var i=n("eLjP");n.d(e,"b",function(){return i.a})},nOx2:function(t,e,n){"use strict";var o=n("zNXL"),i=(n.n(o),n("3j3K"));n.d(e,"a",function(){return s});var r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},s=c=function(){function t(t){this.notificationsService=t}return t.prototype.updateSuccessfulMsg=function(){this.notificationsService.success(c.updateTitle,c.updateSuccessful)},t.prototype.createSuccessfulMsg=function(){this.notificationsService.success(c.createTitle,c.createSuccessfulMsg)},t.prototype.errorDetailedMsg=function(t){if(!t.detail)throw t;this.notificationsService.error(c.errorTitle,t.detail)},t.prototype.errorDetailedMsgOrConsoleLog=function(t){try{this.errorDetailedMsg(t)}catch(e){this.logError(t)}},t.prototype.errorWrongFormatMsg=function(){this.notificationsService.error(c.errorTitle,c.errorWrongFormatMsg)},t.prototype.errorProductDuplicateMsg=function(){this.notificationsService.error(c.errorTitle,c.errorProductDuplicateMsg)},t.prototype.logError=function(t){console.log(t),this.notificationsService.error(c.errorTitle,c.errorWatchLogsMsg)},t.prototype.errorNoImageMsg=function(){this.notificationsService.error(c.errorTitle,c.errorNoImage)},t.prototype.errorLargeImgSizeMsg=function(){this.notificationsService.error(c.errorTitle,c.errorLargeImgSizeMsg)},t}();s.createTitle="Create",s.errorTitle="Error",s.updateTitle="Update",s.createSuccessfulMsg="Product has been created successfully",s.errorWrongFormatMsg="This file format not supported!",s.errorProductDuplicateMsg="Such product name exists!",s.errorWatchLogsMsg="Error appeared, watch logs!",s.errorNoImage="Please put product image!",s.errorLargeImgSizeMsg="This image size is too big!",s.updateSuccessful="Product has been updated successfully",s=c=r([n.i(i.Injectable)(),a("design:paramtypes",["function"==typeof(l=void 0!==o.NotificationsService&&o.NotificationsService)&&l||Object])],s);var c,l},oIcx:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var o=function(){function t(){}return t}();o.APPLICATION_JSON="application/json",o.APPLICATION_JSON_UTF8="application/json;charset=UTF-8",o.APPLICATION_FORM_URLENCODED="application/x-www-form-urlencoded",o.MULTIPART_FORM_DATA="multipart/form-data",o.MULTIPART_FORM_DATA_UTF8="multipart/form-data;charset=UTF-8",o.TEXT_HTML="text/html",o.TEXT_PLAIN="text/plain",o.TEXT_MARKDOWN="text/markdown"},oLNf:function(t,e,n){"use strict";var o=n("3j3K"),i=n("/c+T"),r=n("NiNS"),a=n("iPwV"),s=n("oIcx");n.d(e,"a",function(){return u});var c=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),l=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},d=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},u=function(t){function e(e){var n=t.call(this,e)||this;return n.httpService=e,n}return c(e,t),e.prototype.getUrl=function(){return r.a.API_VENDING_ENDPOINT+"/vending"},e.prototype.fillMachine=function(t){return this.httpService.put(this.getUrl(),t,s.a.APPLICATION_JSON).map(function(t){return t.json()})},e.prototype.updateMachine=function(t){var e=this.getUrl()+"/update";return this.httpService.put(e,t,s.a.APPLICATION_JSON).map(function(t){return t.json()})},e.prototype.resetMotorState=function(t){var e=this.getUrl()+"/"+t.id+"/reset";return this.httpService.post(e,null,s.a.APPLICATION_JSON)},e}(a.a);u=l([n.i(o.Injectable)(),d("design:paramtypes",["function"==typeof(p=void 0!==i.a&&i.a)&&p||Object])],u);var p},oOBK:function(t,e){t.exports='<div class="container-fluid">\n  <div class="col-xs-12 col-md-12 col-xl-12 row header-container">\n    <div class="col-xs-8 col-md-8 col-xl-8">\n      <h2>Transaction</h2>\n    </div>\n  </div>\n</div>\n<hr>\n<div class="container-fluid">\n  <div class="row">\n    <div class="col-sm-4 col-md-4 col-lg-4 col-xl-4 x-scroll">\n      <table class="table table-hover">\n        <thead class="thead-inverse">\n        <tr>\n          <th colspan="2">General</th>\n        </tr>\n        </thead>\n        <tbody>\n        <tr *ngFor="let general of generalFields">\n          <th>{{general}}</th>\n          <td *ngIf="transactionService.getType(general) != \'date\'">{{transaction[general]}}</td>\n          <td *ngIf="transactionService.getType(general) == \'date\'">{{transaction[general] | DatePipe}}</td>\n        </tr>\n        </tbody>\n      </table>\n    </div>\n    <div class="col-sm-4 col-md-4 col-lg-4 col-xl-4 x-scroll" *ngIf="blockFields">\n      <table class="table table-hover">\n        <thead class="thead-inverse">\n        <tr>\n          <th colspan="2">Block data</th>\n        </tr>\n        </thead>\n        <tbody>\n        <tr *ngFor="let detail of blockFields">\n          <th>{{detail}}</th>\n          <td *ngIf="transactionService.getType(detail) != \'date\'">{{transaction.transactionStoring[detail]}}</td>\n          <td *ngIf="transactionService.getType(detail) == \'date\'">{{transaction.transactionStoring[detail] |\n            DatePipe}}\n          </td>\n        </tr>\n        </tbody>\n      </table>\n    </div>\n    <div class="col-md-4 col-lg-4 col-xl-4 x-scroll" *ngIf="callingFields">\n      <table class="table table-hover">\n        <thead class="thead-inverse">\n        <tr>\n          <th colspan="2">Calling data</th>\n        </tr>\n        </thead>\n        <tbody>\n        <tr *ngFor="let calling of callingFields">\n          <th>{{calling}}</th>\n          <td>{{transaction.transactionStoring.callingValue[calling]}}</td>\n        </tr>\n        </tbody>\n      </table>\n    </div>\n  </div>\n  <div class="row" *ngIf="erisFields">\n    <div class="col-md-12 col-lg-12 col-xl-12 x-scroll">\n      <table class="table table-hover">\n        <thead class="thead-inverse">\n        <tr>\n          <th colspan="2">Eris transaction data</th>\n        </tr>\n        </thead>\n        <tbody>\n        <tr *ngFor="let eris of erisFields">\n          <th>{{eris}}</th>\n          <td>{{transaction.transactionStoring.transaction[eris]}}</td>\n        </tr>\n        </tbody>\n      </table>\n    </div>\n  </div>\n</div>\n'},piHc:function(t,e,n){"use strict";var o=n("4dgc");n.d(e,"a",function(){return o.a});var i=n("60LP");n.d(e,"b",function(){return i.a});var r=n("alL1");n.d(e,"c",function(){return r.a});n("HgA2")},pmDf:function(t,e){t.exports="<div class='input-group col-xs-12 mt-10'>\n  <span class='input-group-addon'>\n    <i class='fa fa-picture-o fa-lg'></i>\n  </span>\n  <div class='form-control' type='text' (click)=\"select()\">\n    {{image.name}}\n  </div>\n  <span class=\"input-group-addon\" (click)=\"destroy()\">\n    <i class=\"fa fa-trash\"></i>\n  </span>\n</div>\n"},q2CE:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var o=function(){function t(t){this.form=t}return t.prototype.getValidationClass=function(t){return this.form.controls[t].pristine?"":this.form.controls[t].valid?"has-success":this.form.controls[t].valid?void 0:"has-danger"},t.prototype.getValidationIcon=function(t){return this.form.controls[t].pristine?"":this.form.controls[t].valid?"form-control-success":this.form.controls[t].valid?void 0:"form-control-danger"},t.prototype.isValidOrPristine=function(t){return this.form.controls[t].valid||this.form.controls[t].pristine},t.prototype.getCardOutlineClass=function(){return this.form.pristine||this.form.valid?"card-outline-success":"card-outline-danger"},t}()},qGi7:function(t,e){t.exports='<div class="container-fluid full-height centered">\n  <div class="login-container">\n    <div class="row login-image-container">\n      <img class="img-fluid img-login" src="/assets/images/vending_machine_picture.png">\n    </div>\n    <div class="row alert alert-warning" [hidden]="loginError.code.length == 0">\n      <div class="col-xs-12 col-lg-12">{{loginError.message}}</div>\n    </div>\n    <form (ngSubmit)="onSubmit()" [formGroup]="form">\n      <div class="row">\n        <div class="col-xs-12 col-lg-12">\n          <md-input-container [dividerColor]="inputDividerColor(\'username\')">\n            <input mdInput placeholder="LDAP login" type="text" formControlName="username">\n            <span mdSuffix [hidden]="isValidOrPristine(\'username\')">\n              <i class="material-icons red400 md-18">error</i>\n            </span>\n            <md-hint [hidden]="isValidOrPristine(\'username\')" align="end">{{errorMessage(\'username\')}}</md-hint>\n          </md-input-container>\n        </div>\n      </div>\n      <div class="row">\n        <div class="col-xs-12 col-lg-12">\n          <md-input-container [dividerColor]="inputDividerColor(\'password\')">\n            <input mdInput placeholder="Password" type="password" formControlName="password">\n            <span mdSuffix [hidden]="isValidOrPristine(\'password\')">\n              <i class="material-icons red400 md-18">error</i>\n            </span>\n            <md-hint [hidden]="isValidOrPristine(\'password\')" align="end">{{errorMessage(\'password\')}}</md-hint>\n          </md-input-container>\n        </div>\n      </div>\n      <div class="row">\n        <div class="col-xs-12 col-lg-12 login-button-container">\n          <button md-raised-button class="login-btn" type="submit" disableRipple="true" [disabled]="!form.valid">\n            Login\n          </button>\n        </div>\n      </div>\n    </form>\n  </div>\n</div>\n'},qalz:function(t,e,n){"use strict";var o=n("3j3K"),i=n("hnja"),r=n("zNXL"),a=(n.n(r),n("C3w0")),s=n("kzcK"),c=n("NVOs"),l=n("H3m/"),d=n("iW/o"),u=n("kFGv");n.d(e,"a",function(){return m});var p=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},f=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},h=600,m=g=function(){function t(t,e,n,o,i,r,s){this.adminUserService=t,this.notificationService=e,this.ladpUserService=n,this.modalService=o,this.modal=s,this.superman=new C,this.addMenu=new a.a,this.edit=!1,i.defaultViewContainer=r}return t.prototype.ngOnInit=function(){this.syncAdminUsers(),this.getLdapUsers(),this.buildForm()},t.prototype.buildForm=function(){this.form=new c.FormGroup({"drop-down":new c.FormControl(this.selectedModule)})},t.prototype.getLdapUsers=function(){var t=this;this.ladpUserService.findAll().subscribe(function(e){t.ldapUsers=e,t.ldapUsers.length>0&&(t.selectedModule=t.ldapUsers[0])})},t.prototype.syncAdminUsers=function(){var t=this;this.adminUserService.findAll().subscribe(function(e){t.adminUsers=e})},t.prototype.deleteUser=function(t){var e=this;this.modal.confirm().size("sm").isBlocking(!0).showClose(!0).keyboard(27).title("Delete user").body("Do you really want to delete this user?").okBtn("Yes").okBtnClass("btn btn-success modal-footer-confirm-btn").cancelBtn("Cancel").cancelBtnClass("btn btn-secondary modal-footer-confirm-btn").open().then(function(n){n.result.then(function(){e.adminUserService.delete(t).subscribe(function(){},function(t){e.notificationService.error("Delete",t.body)},function(){e.notificationService.success("Delete","User "+t+" has been removed successfully"),e.syncAdminUsers()})},function(){})})},t.isNotValid=function(t){return!t.authorities||t.authorities.length<1},t.prototype.addAdminUserSubmit=function(){var t=this;if(g.isNotValid(this.selectedModule))return void this.notificationService.info("Info","Please select at least one role");this.adminUserService.save(this.selectedModule).subscribe(function(e){return t.notificationService.success("Add","User has been added successfully")},function(e){409==e.status?t.notificationService.error("Error","Selected user already exists"):t.notificationService.error("Error",e.text())},function(){t.syncAdminUsers(),t.activeModal.close("Submit")})},t.prototype.editAdminUserSubmit=function(){var t=this;if(g.isNotValid(this.selectedModule))return void this.notificationService.info("Info","Please select at least one role");this.adminUserService.update(this.selectedModule.ldapId,this.selectedModule).subscribe(function(e){return t.notificationService.success("Edit","User has been edited successfully")},function(e){t.notificationService.error("Error",e.text())},function(){t.syncAdminUsers(),t.activeModal.close("Submit")})},t.prototype.editUser=function(t,e){var n=this.ldapUsers.filter(function(e){return t.ldapId==e.ldapId})[0];n.authorities=t.authorities.slice(),this.edit=!0,this.open(e,n)},t.prototype.open=function(t,e){var n=this;return this.selectedModule=e?e:this.ldapUsers[0],this.activeModal=this.modalService.open(t),this.activeModal.result.then(function(t){n.edit=!1,n.ldapUsers.forEach(function(t){return t.authorities=null})},function(t){n.edit=!1,n.ldapUsers.forEach(function(t){return t.authorities=null})}),this.activeModal},t}();m=g=p([n.i(o.Component)({selector:"users-list",template:n("QjeQ"),styles:[n("IIkl")],animations:[n.i(o.trigger)("heroState",[n.i(o.state)("inactive",n.i(o.style)({opacity:0,"z-index":-100,display:"none"})),n.i(o.state)("active",n.i(o.style)({opacity:1,"z-index":1e3,display:"block"})),n.i(o.transition)("inactive => active",[n.i(o.animate)("1000ms ease-out")])])]}),f("design:paramtypes",["function"==typeof(v=void 0!==i.a&&i.a)&&v||Object,"function"==typeof(b=void 0!==r.NotificationsService&&r.NotificationsService)&&b||Object,"function"==typeof(y=void 0!==l.a&&l.a)&&y||Object,"function"==typeof(w=void 0!==s.c&&s.c)&&w||Object,"function"==typeof(x=void 0!==d.g&&d.g)&&x||Object,"function"==typeof(S=void 0!==o.ViewContainerRef&&o.ViewContainerRef)&&S||Object,"function"==typeof(j=void 0!==u.b&&u.b)&&j||Object])],m);var g,v,b,y,w,x,S,j,C=function(){function t(){this.state="inactive"}return t.prototype.fly=function(t){window.innerWidth<h||(this.state=t)},t}()},raM8:function(t,e,n){e=t.exports=n("FZ+f")(),e.push([t.i,'rl-tag-input{padding:0}@media (max-width:700px){.col-sm-4{width:100%}}.array-padding{padding-left:0}.cmn-toggle{position:absolute;margin-left:-9999px;visibility:hidden}.cmn-toggle+label{display:block;position:relative;cursor:pointer;outline:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}input.cmn-toggle-round-flat+label{padding:2px;width:75px;height:30px;background-color:#ddd;border-radius:60px;-webkit-transition:background .4s;transition:background .4s}input.cmn-toggle-round-flat+label:after,input.cmn-toggle-round-flat+label:before{display:block;position:absolute;content:""}input.cmn-toggle-round-flat+label:before{top:2px;left:2px;bottom:2px;right:2px;background-color:#fff;border-radius:60px;-webkit-transition:background .4s;transition:background .4s}input.cmn-toggle-round-flat+label:after{top:4px;left:4px;bottom:4px;width:22px;background-color:#ddd;border-radius:52px;-webkit-transition:margin .4s,background .4s;transition:margin .4s,background .4s}input.cmn-toggle-round-flat:checked+label{background-color:#27a1ca}input.cmn-toggle-round-flat:checked+label:after{margin-left:45px;background-color:#27a1ca}div.switch5{clear:both;margin:0}div.switch5>input.switch:empty{margin-left:-999px}div.switch5>input.switch:empty~label{position:relative;float:left;line-height:1.6em;text-indent:4em;margin:.2em 0;cursor:pointer;-moz-user-select:none}div.switch5>input.switch:empty~label:before,input.switch:empty~label:after{position:absolute;display:block;top:0;bottom:0;left:0;content:"off";width:3.6em;height:1.5em;text-indent:2.4em;color:#900;background-color:#c33;border-radius:.3em;box-shadow:inset 0 .2em 0 rgba(0,0,0,.3)}div.switch5>input.switch:empty~label:after{content:" ";width:1.4em;height:1.5em;top:.1em;bottom:.1em;text-align:center;text-indent:0;margin-left:.1em;color:#f88;background-color:#fff;border-radius:.15em;box-shadow:inset 0 -.2em 0 rgba(0,0,0,.2);-webkit-transition:all .1s ease-in 0s;transition:all .1s ease-in 0s}div.switch5>input.switch:checked~label:before{content:"on";text-indent:.5em;color:#6f6;background-color:#393}div.switch5>input.switch:checked~label:after{margin-left:2.1em;color:#6c6}div.switch5>input.switch:focus~label{color:#000}div.switch5>input.switch:focus~label:before{box-shadow:0 0 0 3px #999}.switch6{max-width:17em;margin:0 auto}.switch6-light>span,.switch-toggle>span{color:#000}.switch6-light label,.switch6-light span span,.switch-toggle label,.switch-toggle span span{color:#2b2b2b}.switch6-light span span,.switch-toggle a{display:none}.switch6-light{display:block;height:30px;position:relative;overflow:visible;padding:0;margin-left:0}.switch6-light *{box-sizing:border-box}.switch6-light a{-webkit-transition:all .3s ease-out 0s;transition:all .3s ease-out 0s}.switch6-light>span,.switch6-light label{line-height:30px;vertical-align:middle}.switch6-light label{font-weight:700;margin-bottom:px;max-width:100%}.switch6-light input:focus+label,.switch6-light input:focus~a{outline:1px dotted #888}.switch6-light input{position:absolute;opacity:0;z-index:5}.switch6-light input:checked~a{right:0}.switch6-light>span{position:absolute;left:-100px;width:100%;margin:0;padding-right:100px;text-align:left}.switch6-light>span span{position:absolute;top:0;left:0;z-index:5;display:block;width:50%;margin-left:100px;text-align:center}.switch6-light>span span:last-child{left:50%}.switch6-light a{position:absolute;right:50%;top:0;z-index:4;display:block;width:50%;height:100%;padding:0}',""]),t.exports=t.exports.toString()},rv7q:function(t,e,n){"use strict";var o=n("3j3K"),i=n("Gvdl"),r=(n.n(i),n("nOx2"));n.d(e,"a",function(){return c});var a=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},s=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},c=function(){function t(t){this.notify=t,this.imageName=null,this.defaultImageSrc="/assets/images/default-product-350x350.jpg",this.formData=null,this.imageSrc=null,this.imageFile=null,this.imageLoaded=!1,this.imgFileForCroper=null,this._loaded=!1,this._imageRegExp=/image\/(?:jpeg|png|jpg|apng|svg|bmp)/}return t.dataURItoBlob=function(t){for(var e=atob(t.split(",")[1]),n=[],o=0;o<e.length;o++)n.push(e.charCodeAt(o));return new Blob([new Uint8Array(n)],{type:"image/jpeg"})},t.prototype.fileChangeListener=function(t){var e=this;return i.Observable.create(function(n){e.imageFile=t.dataTransfer?t.dataTransfer.files[0]:t.target.files[0];var o=new FileReader;e.imageFile.type.match(this._imageRegExp)?(e._loaded=!1,o.onloadend=function(t){var o=e._handleReaderLoaded(t),i=e.imageFile.name;n.next({src:o,name:i}),n.complete()},o.readAsDataURL(e.imageFile),t.target.value=null):(e.notify.errorWrongFormatMsg(),e.cleanImageData(),t.target.value=null,n.error(r.a.errorWrongFormatMsg))})},t.prototype.handleImageLoad=function(){this.imageLoaded=!0},t.prototype.cleanImageData=function(){this.imageFile=null,this.imageName=null,this.formData=null},t.prototype._handleReaderLoaded=function(t){var e=t.target;return this.imgFileForCroper=e.result,this._loaded=!0,this.imgFileForCroper},t.isImageSizeAcceptable=function(t){return!0},t}();c._maxImageSize=262144,c=a([n.i(o.Injectable)(),s("design:paramtypes",["function"==typeof(l=void 0!==r.a&&r.a)&&l||Object])],c);var l},sCtV:function(t,e,n){"use strict";var o=n("3j3K"),i=n("aFzp"),r=n("Oa1l"),a=n("zNXL"),s=(n.n(a),n("NVOs")),c=n("q2CE"),l=n("Gvdl");n.n(l);n.d(e,"a",function(){return p});var d=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},u=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},p=function(){function t(t,e){this.coinService=t,this.notificationService=e,this.fileName="",this.transferFileButtonDisabled=!0,this.transferFileFormStyle="card-outline-success",this.blockAttachFileIfInProcess=!1,this.blockAttachFileIfInProcessClass="",this.showResultsHide=!0,this.showResultsButtonHide=!0,this.progressMax=0,this.progressCurrent=0,this.progressHide=!0}return t.prototype.ngOnInit=function(){this.buildForms(),this.loadData()},t.prototype.buildForms=function(){this.replenishForm=new s.FormGroup({amount:new s.FormControl("",[s.Validators.required,s.Validators.pattern("\\d+")])}),this.replenishFormStyles=new c.a(this.replenishForm),this.withdrawForm=new s.FormGroup({merchant:new s.FormControl("",s.Validators.required)}),this.transferForm=new s.FormGroup({account:new s.FormControl("",s.Validators.required),amount:new s.FormControl("",[s.Validators.required,s.Validators.pattern("\\d+")])}),this.transferFormStyles=new c.a(this.transferForm)},t.prototype.loadData=function(){var t=this;this.coinService.getAccountsByType(i.a).flatMap(function(e){return t.regularAccounts=e,t.accountsAmount=t.regularAccounts.reduce(function(t,e){return t+e.amount},0),t.transferForm.get("account").patchValue(t.regularAccounts[0],{onlySelf:!0}),t.coinService.getAccountsByType(i.b)}).flatMap(function(e){return t.merchantAccounts=e,t.merchantsAmount=t.merchantAccounts.reduce(function(t,e){return t+e.amount},0),t.withdrawForm.get("merchant").patchValue(t.merchantAccounts[0]),t.coinService.getTreasuryAmount()}).subscribe(function(e){t.treasuryAmount=e.amount},function(e){return t.notificationService.error("Error","Error appeared during loading data from coins server")}),this.coinService.getProductsPrice().subscribe(function(e){return t.productsPrice=e.amount},function(e){return t.notificationService.error("Error","Error appeared during load products amount")})},t.prototype.isFormValid=function(t){return!(!t.valid||t.pristine)},t.prototype.replenishAccounts=function(){var t=this,e=this.replenishForm.value.amount;this.coinService.getTreasuryAmount().flatMap(function(n){return t.treasuryAmount=n.amount,n.amount<e?l.Observable.throw({message:"Not enough coins in treasury"}):t.coinService.replenishAccounts(e)}).subscribe(function(){return null},function(e){e&&e.message?t.notificationService.error("Error",e.message):t.notificationService.error("Error","Error appeared during replenish accounts")},function(){t.notificationService.success("Success","Accounts has been replenished successfully."),t.loadData()}),this.replenishForm.reset({amount:""})},t.prototype.withdrawToTreasury=function(){var t=this,e=this.withdrawForm.value.merchant;0==e.amount?this.notificationService.error("Error","Not enough coins in "+e.fullName):this.coinService.withdrawToTreasury(e).subscribe(function(n){if("success"==n.status.toLowerCase())t.notificationService.success("Success","Money from "+e.fullName+" has been withdrawn successfully"),t.loadData();else{var o="Error happened in transaction";n&&n.error&&n.error.length>0&&(o=n.error),t.notificationService.error("Error",o)}},function(e){return t.notificationService.error("Error","Error appeared during withdrawal")}),this.withdrawForm.reset({merchant:this.merchantAccounts[0]})},t.prototype.transferToAccount=function(){var t=this,e=this.transferForm.value.amount,n=this.transferForm.value;this.coinService.getTreasuryAmount().flatMap(function(o){return t.treasuryAmount=o.amount,t.treasuryAmount<e?l.Observable.throw({message:"Not enough coins in treasury"}):t.coinService.transferToAccount(n)}).subscribe(function(e){if("success"==e.status.toLowerCase())t.notificationService.success("Success","Money has been transferred successfully"),t.loadData();else{var n="Error happened in transaction";e&&e.error&&e.error.length>0&&(n=e.error),t.notificationService.error("Error",n)}},function(e){e&&e.message&&e.message.length>0?t.notificationService.error("Error",e.message):t.notificationService.error("Error","Error appeared during money transferring")}),this.transferForm.reset({account:this.regularAccounts[0],amount:""})},t.prototype.transferToAccounts=function(){var t=this;this.blockAttachFileIfInProcess=!0,this.blockAttachFileIfInProcessClass="disabled";var e=new FormData;e.append("file",this.transferFile,this.transferFile.name),this.coinService.transferToAccounts(e).subscribe(function(e){t.transferFileButtonDisabled=!0,t.progressHide=!1,t.transferFile=null,t.fileName="",t.notificationService.success("Success","Accounts charging task is in progress!");var n=t.coinService.checkProcessing(e.checkHash).subscribe(function(e){t.progressMax=e.total,t.progressCurrent=e.isDone,t.progressValue=(t.progressCurrent/t.progressMax*100).toFixed(2),e.isDone==e.total&&(t.progressHide=!0,t.transactions=e.transactions,t.showResultsButtonHide=!1,t.blockAttachFileIfInProcess=!1,t.blockAttachFileIfInProcessClass="",t.notificationService.success("Success","Accounts charging task has finished successfully!"),n.unsubscribe())},function(e){try{var n=e.json();if(!n.detail)throw n;t.progressHide=!0,t.blockAttachFileIfInProcess=!1,t.blockAttachFileIfInProcessClass="",t.notificationService.error("Error",n.detail)}catch(e){console.log(e),t.progressHide=!0,t.blockAttachFileIfInProcess=!1,t.blockAttachFileIfInProcessClass="",t.notificationService.error("Error","Error appeared, watch logs!")}})},function(e){try{t.blockAttachFileIfInProcess=!1;var n=e.json();if(!n.detail)throw n;t.notificationService.error("Error",n.detail)}catch(e){console.log(e),t.blockAttachFileIfInProcess=!1,t.blockAttachFileIfInProcessClass="",t.notificationService.error("Error","Error appeared, watch logs!")}t.blockAttachFileIfInProcess=!1,t.blockAttachFileIfInProcessClass="",t.transferFile=null,t.fileName=""})},t.prototype.showResults=function(){this.showResultsHide=!this.showResultsHide},t.prototype.getTemplate=function(){var t=new FileReader;this.coinService.getTemplate().subscribe(function(e){t.readAsDataURL(e),t.onloadend=function(){var e=document.createElement("a");document.body.appendChild(e),e.setAttribute("style","display: none"),e.href=t.result,e.target="_blank",e.download="template.csv",e.click(),document.body.removeChild(e)}})},t.prototype.handleInputChange=function(t){var e=this,n=t.dataTransfer?t.dataTransfer.files[0]:t.target.files[0],o=/(text\/csv)|(application\/vnd.ms-excel)/,i=new FileReader;n.type.match(o)?(i.onloadend=function(){e.transferFile=n,t.target.value=null,e.fileName=n.name,e.transferFileButtonDisabled=!1,e.transferFileFormStyle="card-outline-success",e.notificationService.success("Success","File was loaded successfully!")},i.onerror=function(){e.transferFileFormStyle="card-outline-danger",e.notificationService.error("Error","File was not loaded, file may contain mistakes!")},i.readAsDataURL(n)):(this.notificationService.error("Error","This file format not supported!"),this.transferFileFormStyle="card-outline-danger")},t}();p=d([n.i(o.Component)({selector:"app-coin-management",template:n("YQbX"),styles:[n("4uC+")]}),u("design:paramtypes",["function"==typeof(f=void 0!==r.a&&r.a)&&f||Object,"function"==typeof(h=void 0!==a.NotificationsService&&a.NotificationsService)&&h||Object])],p);var f,h},sQHO:function(t,e,n){e=t.exports=n("FZ+f")(),e.push([t.i,"",""]),t.exports=t.exports.toString()},sSzd:function(t,e,n){e=t.exports=n("FZ+f")(),e.push([t.i,".p-card-container{float:left;margin:0 10px 20px;width:280px}.p-card-bg{background-color:#f5f5f5}.action-btn-container{text-align:center}.p-card-title{width:165px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;display:inline-block}",""]),t.exports=t.exports.toString()},snDU:function(t,e,n){"use strict";var o=n("3j3K");n.d(e,"a",function(){return r});var i=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},r=function(){function t(){this.monthNames=["January","February","March","April","May","June","July","August","September","October","November","December"],this.days=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]}return t.prototype.transform=function(t,e){var n=new Date(t);return this.days[n.getDay()]+" "+n.getDate()+" "+this.monthNames[n.getMonth()]+" "+n.getFullYear()+", "+n.getHours()+":"+(n.getMinutes()<10?"0":"")+n.getMinutes()},t}();r=i([n.i(o.Pipe)({name:"DatePipe"})],r)},stYV:function(t,e){t.exports='<div class="col-xs-12 col-sm-12 col-lg-12 col-xl-6 vm-card-container">\n  <md-card class="vm-card-bg">\n    <md-card-title-group>\n      <img md-card-sm-image src="/assets/images/vending-256.png">\n      <md-card-title class="vm-card-title">{{machine.name}}</md-card-title>\n      <md-card-subtitle>{{machine.size | machineSize }}</md-card-subtitle>\n    </md-card-title-group>\n    <md-card-actions>\n      <div class="action-btn-container">\n        <button class="btn btn-success" (click)="onEditMachine()"><i class="fa fa-edit btn-icon"></i>Edit</button>\n        <button class="btn btn-success" [routerLink]="[\'/main/machines/fill\', machine.id]">\n          <i class="fa fa-upload btn-icon"></i>Fill\n        </button>\n        <button class="btn btn-danger" (click)="deleteMachine()"><i class="fa fa-trash btn-icon"></i>Delete</button>\n      </div>\n    </md-card-actions>\n  </md-card>\n</div>\n'},tItp:function(t,e,n){"use strict";!function(){function t(t,e,n,o,i){this.id=t,this.url=e,this.fileName=n,this.width=o,this.height=i}t}()},tNDU:function(t,e,n){e=t.exports=n("FZ+f")(),e.push([t.i,"",""]),t.exports=t.exports.toString()},tZQS:function(t,e,n){"use strict";var o=n("GYDs");n.d(e,"a",function(){return o.a});var i=n("c6/q");n.d(e,"b",function(){return i.a});var r=n("7ZxR");n.d(e,"c",function(){return r.a});var a=n("Jx+s");n.d(e,"d",function(){return a.a})},"uA+w":function(t,e,n){"use strict";var o=n("Vw8t");n.d(e,"a",function(){return i});var i=function(){function t(t,e,n,i,r,a,s){void 0===t&&(t=0),void 0===e&&(e=0),void 0===n&&(n=""),void 0===i&&(i=""),void 0===r&&(r=[]),void 0===a&&(a=""),void 0===s&&(s=new o.a),this.id=t,this.price=e,this.name=n,this.imageUrl=i,this.imageUrls=r,this.description=a,this.category=s}return t}()},uIKg:function(t,e,n){e=t.exports=n("FZ+f")(),e.push([t.i,".table td,th{text-align:center}",""]),t.exports=t.exports.toString()},uslO:function(t,e,n){function o(t){return n(i(t))}function i(t){var e=r[t];if(!(e+1))throw new Error("Cannot find module '"+t+"'.");return e}var r={"./af":"3CJN","./af.js":"3CJN","./ar":"3MVc","./ar-dz":"tkWw","./ar-dz.js":"tkWw","./ar-ly":"wPpW","./ar-ly.js":"wPpW","./ar-ma":"dURR","./ar-ma.js":"dURR","./ar-sa":"7OnE","./ar-sa.js":"7OnE","./ar-tn":"BEem","./ar-tn.js":"BEem","./ar.js":"3MVc","./az":"eHwN","./az.js":"eHwN","./be":"3hfc","./be.js":"3hfc","./bg":"lOED","./bg.js":"lOED","./bn":"aM0x","./bn.js":"aM0x","./bo":"w2Hs","./bo.js":"w2Hs","./br":"OSsP","./br.js":"OSsP","./bs":"aqvp","./bs.js":"aqvp","./ca":"wIgY","./ca.js":"wIgY","./cs":"ssxj","./cs.js":"ssxj","./cv":"N3vo","./cv.js":"N3vo","./cy":"ZFGz","./cy.js":"ZFGz","./da":"YBA/","./da.js":"YBA/","./de":"DOkx","./de-at":"8v14","./de-at.js":"8v14","./de.js":"DOkx","./dv":"rIuo","./dv.js":"rIuo","./el":"CFqe","./el.js":"CFqe","./en-au":"Sjoy","./en-au.js":"Sjoy","./en-ca":"Tqun","./en-ca.js":"Tqun","./en-gb":"hPuz","./en-gb.js":"hPuz","./en-ie":"ALEw","./en-ie.js":"ALEw","./en-nz":"dyB6","./en-nz.js":"dyB6","./eo":"Nd3h","./eo.js":"Nd3h","./es":"LT9G","./es-do":"7MHZ","./es-do.js":"7MHZ","./es.js":"LT9G","./et":"XlWM","./et.js":"XlWM","./eu":"sqLM","./eu.js":"sqLM","./fa":"2pmY","./fa.js":"2pmY","./fi":"nS2h","./fi.js":"nS2h","./fo":"OVPi","./fo.js":"OVPi","./fr":"tzHd","./fr-ca":"bXQP","./fr-ca.js":"bXQP","./fr-ch":"VK9h","./fr-ch.js":"VK9h","./fr.js":"tzHd","./fy":"g7KF","./fy.js":"g7KF","./gd":"nLOz","./gd.js":"nLOz","./gl":"FuaP","./gl.js":"FuaP","./he":"Nzt2","./he.js":"Nzt2","./hi":"ETHv","./hi.js":"ETHv","./hr":"V4qH","./hr.js":"V4qH","./hu":"xne+","./hu.js":"xne+","./hy-am":"GrS7","./hy-am.js":"GrS7","./id":"yRTJ","./id.js":"yRTJ","./is":"upln","./is.js":"upln","./it":"FKXc","./it.js":"FKXc","./ja":"ORgI","./ja.js":"ORgI","./jv":"JwiF","./jv.js":"JwiF","./ka":"RnJI","./ka.js":"RnJI","./kk":"j+vx","./kk.js":"j+vx","./km":"5j66","./km.js":"5j66","./ko":"eBB/","./ko.js":"eBB/","./ky":"6cf8","./ky.js":"6cf8","./lb":"z3hR","./lb.js":"z3hR","./lo":"nE8X","./lo.js":"nE8X","./lt":"/6P1","./lt.js":"/6P1","./lv":"jxEH","./lv.js":"jxEH","./me":"svD2","./me.js":"svD2","./mi":"gEU3","./mi.js":"gEU3","./mk":"Ab7C","./mk.js":"Ab7C","./ml":"oo1B","./ml.js":"oo1B","./mr":"5vPg","./mr.js":"5vPg","./ms":"ooba","./ms-my":"G++c","./ms-my.js":"G++c","./ms.js":"ooba","./my":"F+2e","./my.js":"F+2e","./nb":"FlzV","./nb.js":"FlzV","./ne":"/mhn","./ne.js":"/mhn","./nl":"3K28","./nl-be":"Bp2f","./nl-be.js":"Bp2f","./nl.js":"3K28","./nn":"C7av","./nn.js":"C7av","./pa-in":"pfs9","./pa-in.js":"pfs9","./pl":"7LV+","./pl.js":"7LV+","./pt":"ZoSI","./pt-br":"AoDM","./pt-br.js":"AoDM","./pt.js":"ZoSI","./ro":"wT5f","./ro.js":"wT5f","./ru":"ulq9","./ru.js":"ulq9","./se":"5Omq","./se.js":"5Omq","./si":"Lgqo","./si.js":"Lgqo","./sk":"OUMt","./sk.js":"OUMt","./sl":"2s1U","./sl.js":"2s1U","./sq":"V0td","./sq.js":"V0td","./sr":"f4W3","./sr-cyrl":"c1x4","./sr-cyrl.js":"c1x4","./sr.js":"f4W3","./ss":"7Q8x","./ss.js":"7Q8x","./sv":"Fpqq","./sv.js":"Fpqq","./sw":"DSXN","./sw.js":"DSXN","./ta":"+7/x","./ta.js":"+7/x","./te":"Nlnz","./te.js":"Nlnz","./tet":"gUgh","./tet.js":"gUgh","./th":"XzD+","./th.js":"XzD+","./tl-ph":"3LKG","./tl-ph.js":"3LKG","./tlh":"m7yE","./tlh.js":"m7yE","./tr":"k+5o","./tr.js":"k+5o","./tzl":"iNtv","./tzl.js":"iNtv","./tzm":"FRPF","./tzm-latn":"krPU","./tzm-latn.js":"krPU","./tzm.js":"FRPF","./uk":"ntHu","./uk.js":"ntHu","./uz":"XU1s","./uz.js":"XU1s","./vi":"0X8Q","./vi.js":"0X8Q","./x-pseudo":"e/KL","./x-pseudo.js":"e/KL","./yo":"YXlc","./yo.js":"YXlc","./zh-cn":"Vz2w","./zh-cn.js":"Vz2w","./zh-hk":"ZUyn","./zh-hk.js":"ZUyn","./zh-tw":"BbgG","./zh-tw.js":"BbgG"};o.keys=function(){return Object.keys(r)},o.resolve=i,t.exports=o,o.id="uslO"},v4X5:function(t,e,n){"use strict";var o=n("3j3K"),i=n("XghB"),r=n("95Qa"),a=n("nOx2");n.d(e,"a",function(){return l});var s=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},c=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},l=d=function(){function t(t,e){this.componentFactoryResolver=t,this.notify=e,this._defaultSource="/assets/images/default-product-350x350.jpg",this.height=205,this.width=205}return t.prototype.ngOnInit=function(){var t=this;this.imageComponents=[],this.setDefaultImage(),this.cropper.visible=!1,this.cropper.onCrop.subscribe(function(e){return t.addImageItem(e)})},t.prototype.addImageItem=function(t){var e=this;this.image=t;var n=this.componentFactoryResolver.resolveComponentFactory(i.a),o=this.imgList.createComponent(n);this.imageComponents.push(o.instance),o.instance.image=t,o.instance.onDelete.subscribe(function(t){return e.findAndDestroy(o)}),o.instance.onClick.subscribe(function(t){return e.image=o.instance.image}),o.changeDetectorRef.detectChanges()},t.prototype.acceptFile=function(t){var e=t.dataTransfer?t.dataTransfer.files[0]:t.target.files[0],n=new FileReader,o=new Image,i=this;o.name=e.name,n.readAsDataURL(e),n.onloadend=function(t){o.src=n.result,i.setUpCropper(o)},t.target.value=null},t.prototype.isEmpty=function(){return this.imageComponents.length<=0},t.prototype.getImageFormData=function(t){var e=new FormData;return d.appendImageToFormData(e,t,this.image)?e:null},t.prototype.getDescriptionImagesFormData=function(t){for(var e=new FormData,n=!0,o=0,i=this.imageComponents;o<i.length;o++){var r=i[o];if(r.image!=this.image){var a=d.appendImageToFormData(e,t,r.image);n=n&&!a}}return n?null:e},t.prototype.getDeletedUrls=function(t){var e=this,n=this.getStoredUrlsWithExternalSource();return n&&t?t.filter(function(t){return n.every(function(n){return 0!=n.localeCompare(t)||0==e.image.src.localeCompare(t)})}):[]},t.prototype.setImages=function(t,e){var n=this;e.forEach(function(t){return n.addImageItem(t)}),this.image=t},t.prototype.getStoredUrlsWithExternalSource=function(){return this.imageComponents.map(function(t){return t.image.src}).filter(function(t){return d.isUrl(t)})},t.isUrl=function(t){var e=/https*:/i;return!!t.match(e)},t.prototype.reset=function(){},t.appendImageToFormData=function(t,e,n){try{var o=r.a.dataURItoBlob(n.src);return t.append(e,o,n.name),!0}catch(t){return!1}},t.prototype.setUpCropper=function(t){this.cropper.cropImage=t,this.cropper.visible=!0},t.prototype.setDefaultImage=function(){return this.image=new Image(this.width,this.height),this.image.src=this._defaultSource,this.image},t.prototype.findAndDestroy=function(t){this.imageComponents=this.imageComponents.filter(function(e){return e!==t.instance}),this.image==t.instance.image&&(0==this.imageComponents.length?this.setDefaultImage():this.image=this.imageComponents[0].image),t.destroy()},t}();s([n.i(o.ViewChild)("imgList",{read:o.ViewContainerRef}),c("design:type",Object)],l.prototype,"imgList",void 0),s([n.i(o.ViewChild)("modalImageCropper"),c("design:type","function"==typeof(u=void 0!==r.a&&r.a)&&u||Object)],l.prototype,"cropper",void 0),l=d=s([n.i(o.Component)({selector:"app-image-loader",template:n("6E2P"),styles:[n("Znoh")]}),c("design:paramtypes",["function"==typeof(p=void 0!==o.ComponentFactoryResolver&&o.ComponentFactoryResolver)&&p||Object,"function"==typeof(f=void 0!==a.a&&a.a)&&f||Object])],l);var d,u,p,f},vc0H:function(t,e,n){"use strict";var o=n("3j3K"),i=n("NiNS"),r=n("/c+T"),a=n("iPwV");n.d(e,"a",function(){return d});var s=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),c=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},l=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},d=function(t){function e(e){var n=t.call(this,e)||this;return n.httpService=e,n}return s(e,t),e.prototype.getUrl=function(){return i.a.API_VENDING_ENDPOINT+"/categories"},e}(a.a);d=c([n.i(o.Injectable)(),l("design:paramtypes",["function"==typeof(u=void 0!==r.a&&r.a)&&u||Object])],d);var u},"w+DQ":function(t,e){t.exports='<div class="container-fluid">\n  <div class="col-xs-12 col-md-12 col-xl-12 row header-container">\n    <div class="col-xs-8 col-md-8 col-xl-8">\n      <h2>Purchases</h2>\n    </div>\n    <div class="col-xs-4 col-md-4 col-xl-4 header-buttons-container">\n      <button class="btn btn-success" (click)="showFilter()">\n        <i class="fa fa-filter btn-icon"></i>Filter\n      </button>\n    </div>\n  </div>\n</div>\n<hr>\n<div class="container-fluid">\n  <div class="row" [hidden]="hideFilter">\n    <div class="col-lg-3 col-xl-3"></div>\n    <div [ngClass]="changeFormSize">\n      <div class="card card-block card-outline-success">\n        <form (ngSubmit)="onSubmit()" [formGroup]="form">\n          <div class="row">\n            <div [ngClass]="changeContentSize">\n              <div class="form-group row">\n                <label for="machines" class="col-sm-4 col-form-label">Machines</label>\n                <div class="col-sm-8">\n                  <select id="machines" class="form-control" formControlName="machine">\n                    <option value="-1">All</option>\n                    <option *ngFor="let machine of machines;" [ngValue]="machine.id">{{machine?.name}}</option>\n                  </select>\n                </div>\n              </div>\n            </div>\n            <div [ngClass]="changeContentSize">\n              <div class="form-group row">\n                <label for="date" class="col-sm-4 col-form-label">Date</label>\n                <div class="col-sm-8">\n                  <select id="date" class="form-control" formControlName="type">\n                    <option value="Any">Any</option>\n                    <option value="Today">Today</option>\n                    <option value="Last week">Last week</option>\n                    <option value="Last month">Last month</option>\n                    <option value="Start-Due">Start-Due</option>\n                  </select>\n                </div>\n              </div>\n            </div>\n            <div class="col-xl-3" [ngClass]="inlineBlock" [hidden]="hideStartDue">\n              <div class="form-group row">\n                <label for="start" class="col-sm-4 col-md-4 col-lg-4 col-xl-3 col-form-label">Start</label>\n                <div class="col-sm-8 col-md-8 col-lg-8 col-xl-9">\n                  <div class="input-group">\n                    <input class="form-control" name="dp" formControlName="start" ngbDatepicker\n                           #d="ngbDatepicker" id="start" [maxDate]="maxDate" (ngModelChange)="changeStart($event)">\n                    <div class="input-group-addon" (click)="d.toggle()">\n                      <i class="fa fa-calendar fa-lg"></i>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n            <div class="col-xl-3" [ngClass]="inlineBlock" [hidden]="hideStartDue">\n              <div class="form-group row">\n                <label for="due" class="col-sm-4 col-md-4 col-lg-4 col-xl-3 col-form-label">Due</label>\n                <div class="col-sm-8 col-md-8 col-lg-8 col-xl-9">\n                  <div class="input-group">\n                    <input class="form-control" name="dp" formControlName="due" ngbDatepicker\n                           #n="ngbDatepicker" id="due" [minDate]="minDate" (ngModelChange)="changeDue($event)">\n                    <div class="input-group-addon" (click)="n.toggle()">\n                      <i class="fa fa-calendar fa-lg"></i>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n          <div class="row">\n            <div class="col-xs-12 col-md-12 col-lg-12 header-buttons-container">\n              <button type="submit" class="btn btn-success">Submit</button>\n              <button type="button" class="btn btn-secondary" (click)="onCancel()">Cancel</button>\n            </div>\n          </div>\n        </form>\n      </div>\n    </div>\n  </div>\n  <div class="row">\n    <div class="col-xs-12 col-md-12 col-xl-12">\n      <table class="table table-hover">\n        <thead class="thead-inverse">\n        <tr>\n          <th class="column-visibility">#</th>\n          <th>Account</th>\n          <th>Product</th>\n          <th class="column-visibility">Price</th>\n          <th>Date</th>\n        </tr>\n        </thead>\n        <tbody>\n        <tr *ngIf="purchases == \'\'">\n          <th colspan=5>No data to display!</th>\n        </tr>\n        <tr *ngFor="let purchase of purchases; let i = index">\n          <th class="column-visibility" scope="row">{{pageSize * page.number + i + 1}}</th>\n          <td>{{purchase?.account}}</td>\n          <td>{{purchase?.product}}</td>\n          <td class="column-visibility">{{purchase?.price}}</td>\n          <td>{{purchase?.date | DatePipe}}</td>\n        </tr>\n        </tbody>\n      </table>\n    </div>\n  </div>\n  <div class="row" *ngIf="purchases != \'\'">\n    <form [formGroup]="pageForm">\n      <div class="form-group row horizontal-alignment">\n        <div class="col-xs-12 col-sm-12 col-md-12 col-lg-10 col-xl-8 vertical-align">\n          <div class="col-xs-12 col-sm-12 col-md-2 col-lg-2 col-xl-2">\n            <select id="size" class="form-control" formControlName="pageSize" data-dropup-auto="false">\n              <option value="10">10</option>\n              <option value="25">25</option>\n              <option value="50">50</option>\n            </select>\n          </div>\n          <div class="col-xs-12 col-sm-12 col-md-10 col-lg-10 col-xl-10">\n            <ngb-pagination [collectionSize]="page.totalElements" [maxSize]="pageItems" [page]="page.number+1"\n                            [rotate]="true" [size]="pageItemsSize" [directionLinks]="pageDirectionLinks"\n                            [pageSize]="page.size" (pageChange)="changePage($event)">\n            </ngb-pagination>\n          </div>\n        </div>\n      </div>\n    </form>\n  </div>\n</div>\n'},wFHq:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var o=function(){function t(t,e,n){this.field=t,this.value=e,this.comparison=n}return t}()},wQzk:function(t,e,n){e=t.exports=n("FZ+f")(),e.push([t.i,".overlay{top:0;bottom:0;background-color:rgba(0,0,0,.5);z-index:999}.dialog,.overlay{position:fixed;left:0;right:0}.dialog{z-index:1000;top:50px;margin-right:auto;margin-left:auto;min-height:200px;width:90%;max-width:520px}.modal-body{padding:5px}@media (min-width:768px){.dialog{top:120px}}#pre_image{display:block;margin-left:auto;margin-right:auto}img-cropper{display:table;margin:0 auto}",""]),t.exports=t.exports.toString()},x35b:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n("3j3K"),i=n("O61y"),r=n("Iksp");n("kZql").a.production&&n.i(o.enableProdMode)(),n.i(i.a)().bootstrapModule(r.a)},"xDi+":function(t,e){t.exports='<div class="container-fluid">\n  <div class="row">\n    <div class="col-lg-12">\n      <h1 class="page-header">Edit product</h1>\n    </div>\n  </div>\n</div>\n<hr>\n<div class="container-fluid" >\n  <div class="card card-block" >\n    <!--<form (ngSubmit)="submit()" [formGroup]="form" enctype="multipart/form-data">-->\n      <div class="row">\n        <!--left column-->\n        <app-product-form #productForm class="col-xl-6"></app-product-form>\n        <!--right column-->\n        <app-image-loader #imageLoader class="col-xl-6"></app-image-loader>\n        <div class="form-group row">\n          <div class="col-sm-12 form-buttons-container">\n            <button class="btn btn-success" [disabled]="" type="submit" (click)="submit()">\n              Submit\n            </button>\n            <button class="btn btn-secondary" type="button" (click)="reset()">\n              Cancel\n            </button>\n          </div>\n        </div>\n      </div>\n    <!--</form>-->\n\n  </div>\n</div>\n'},xUFU:function(t,e){t.exports='<div class="affix-top">\n  <div class="col-xs-12 col-md-12 col-xl-12 row header-container">\n    <div class="col-xs-8 col-md-8 col-xl-8">\n      <h2 class="page-header">{{machine?.name}}</h2>\n    </div>\n    <div class="col-xs-4 col-md-4 col-xl-4 header-buttons-container small-screen">\n      <!--For desktop browser-->\n      <button class="btn btn-success" [disabled]="changedFields.length == 0" (click)="applyChanges()">\n        <i class="fa fa-check btn-icon"></i>Apply\n      </button>\n    </div>\n    <div class="col-xs-4 col-md-4 col-xl-4 header-buttons-container large-screen">\n      <!--For mobile browser-->\n      <button class="btn btn-success" [disabled]="changedFields.length == 0" (click)="applyChanges()">\n        <i class="fa fa-check btn-icon"></i>Apply changes\n      </button>\n    </div>\n  </div>\n  <div class="header-divider">\n    <hr style="width: 100%">\n  </div>\n</div>\n<div class="container-fluid affix-bottom">\n  <div class="offset-sm-1 offset-lg-1 col-sm-10 col-lg-10">\n    <div class="machine-bg">\n      <div class="card-deck-wrapper">\n        <div *ngFor="let row of machine?.rows" machineRow rowId="{{row.id}}">\n          <div class="card-deck cell-card-row">\n            <div machineCell cellId="{{field.internalId}}" class="card product-card" [ngClass]="setClassIfProductAbsent(field)"\n                 *ngFor="let field of row.fields"\n                 (click)="toggleState(field, row.id)"\n                 [@selectDeselectCard]="applyCardState(field.internalId)">\n              <div class="product-img-container">\n                <div class="product-add-icon" *ngIf="field?.product == null">\n                  <i class="fa fa-plus-circle fa-3x"></i>\n                </div>\n                <img [src]="createImageUrl(field.product)" class="product-img" *ngIf="field?.product != null">\n              </div>\n              <hr>\n              <div class="cell-info">\n                <b>ID</b>:&nbsp;<i>{{field?.internalId}}</i>&nbsp;<b>QTY</b>:&nbsp;<i>{{field?.count}}</i>\n              </div>\n            </div>\n          </div>\n\n          <!--<div id="row{{row.id}}"></div>-->\n        </div>\n      </div>\n\n      <div #cellForm class="cell-form" [@showHideForm]="applyCellFormState()">\n        <div class="card card-block">\n          <form (ngSubmit)="submit()" [formGroup]="form">\n            <div class="form-group row">\n              <label for="cell-id" class="col-sm-2 col-form-label">Cell ID</label>\n              <div class="col-sm-10">\n                <input class="form-control" id="cell-id" formControlName="fieldInternalId" [value]="selectedField?.internalId">\n              </div>\n            </div>\n            <div class="form-group row">\n              <label for="product" class="col-sm-2 col-form-label">Product</label>\n              <div class="col-sm-10">\n                <select class="form-control" id="product" formControlName="product">\n                  <option *ngFor="let product of products" [ngValue]="product">{{product.name}}</option>\n                </select>\n              </div>\n            </div>\n            <div class="form-group row">\n              <label for="product-count" class="col-sm-2 col-form-label">Count</label>\n              <div class="col-sm-10">\n                <input class="form-control" id="product-count" placeholder="1" type="number"\n                       min="0" [max]="machine?.size?.cellLimit" formControlName="count">\n              </div>\n            </div>\n            <div class="form-group row">\n              <div class="col-sm-12 form-buttons-container">\n                <button class="btn btn-success" type="submit" [disabled]="!isFormValid()">Submit</button>\n                <button class="btn btn-secondary" type="reset" [disabled]="isClearCellDisabled()"\n                        (click)="clearCell()">Clear cell</button>\n                <button class="btn btn-secondary" type="button" (click)="cancel()">Cancel</button>\n              </div>\n            </div>\n          </form>\n        </div>\n      </div>\n\n      <div class="bottom-container row">\n        <div class="top-row"></div>\n        <div class="center-row col-sm-12 row">\n          <div class="receiver-box offset-sm-3 col-sm-6"></div>\n        </div>\n        <div class="bottom-row"></div>\n      </div>\n    </div>\n  </div>\n</div>\n'},"z/hI":function(t,e,n){"use strict";var o=n("3j3K"),i=n("dtD4"),r=n("5oXY");n.d(e,"a",function(){return c});var a=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},s=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},c=function(){function t(t,e){this.accountService=t,this.router=e,this.isActive=!1,this.showMenu="0",this.allowedRoutes=t.getRoutes()}return t.prototype.ngOnInit=function(){},t.prototype.eventCalled=function(){this.isActive=!this.isActive},t.prototype.addExpandClass=function(t){t===this.showMenu?this.showMenu="0":this.showMenu=t},t.prototype.setSubmenuClass=function(t){return t===this.showMenu?"expand":"hide"},t.prototype.isVisible=function(t){return this.allowedRoutes.indexOf(t)!=-1},t.prototype.hide=function(){this.isActive=!this.isActive},t.prototype.logout=function(){this.accountService.logout(),this.router.navigate(["/login"])},t}();c=a([n.i(o.Component)({selector:"side-bar",template:n("bCFb"),styles:[n("Mk5H")]}),s("design:paramtypes",["function"==typeof(l=void 0!==i.a&&i.a)&&l||Object,"function"==typeof(d=void 0!==r.b&&r.b)&&d||Object])],c);var l,d},zhGp:function(t,e,n){"use strict";var o=n("3j3K"),i=n("5oXY"),r=n("NVOs"),a=n("bnFi"),s=n("dtD4"),c=n("zNXL");n.n(c);n.d(e,"a",function(){return u});var l=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},d=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},u=function(){function t(t,e,n){this.router=t,this.accountService=e,this.notificationService=n}return t.prototype.ngOnInit=function(){this.accountService.logout(),this.loginError=new a.a,this.form=new r.FormGroup({username:new r.FormControl("",[r.Validators.required,r.Validators.pattern("[\\d\\w\\.]+")]),password:new r.FormControl("",[r.Validators.required])})},t.prototype.isValidOrPristine=function(t){return this.form.controls[t].valid||this.form.controls[t].pristine},t.prototype.inputDividerColor=function(t){return this.isValidOrPristine(t)?"primary":"warn"},t.prototype.errorMessage=function(t){return this.form.controls[t].hasError("pattern")?"Please enter valid LDAP login":"This field is required"},t.prototype.onSubmit=function(){var t=this;this.accountService.login(this.form.value).subscribe(function(){},function(e){return t.notificationService.error("Error",e.message)},function(){t.accountService.getRoutes()[0]?t.router.navigate([t.accountService.getRoutes()[0]]):t.notificationService.info("Info","User is not admin")})},t}();u=l([n.i(o.Component)({selector:"app-login",template:n("qGi7"),styles:[n("1egz")]}),d("design:paramtypes",["function"==typeof(p=void 0!==i.b&&i.b)&&p||Object,"function"==typeof(f=void 0!==s.a&&s.a)&&f||Object,"function"==typeof(h=void 0!==c.NotificationsService&&c.NotificationsService)&&h||Object])],u);var p,f,h}},[0]);